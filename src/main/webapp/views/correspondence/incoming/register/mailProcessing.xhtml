<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:of="http://omnifaces.org/functions"
	template="/WEB-INF/template.xhtml">
	<ui:define name="title">
		<span class="subitem"> #{interfaceLabel.registerIncomingMail}</span>
	</ui:define>
	<ui:define name="toolbar">
		<p:commandLink id="inbox" value="" action="pretty:inBox" ajax="true"
			title="#{interfaceLabel.goTo} #{interfaceLabel.page} #{interfaceLabel.inBoxMail}">
			<i class="fa fa-inbox" style="font-size: 2rem; color: green;"></i>
		</p:commandLink>

		<p:commandLink id="home" value="" action="pretty:registerIncomingMail"
			ajax="true"
			title="#{interfaceLabel.goTo} #{interfaceLabel.page} #{interfaceLabel.registerIncomingMail}">
			<i class="fa fa-mail-forward" style="font-size: 2rem"></i>
		</p:commandLink>

		<p:commandLink id="close" value="" action="pretty:index" ajax="true"
			title="#{interfaceLabel.close}">
			<i class="pi pi-times-circle" style="font-size: 2rem; color: red"></i>
		</p:commandLink>

	</ui:define>
	<ui:define name="head">

		<h:outputStylesheet library="#{appSetting.resourceLib}"
			name="css/material-theme.css"></h:outputStylesheet>
		<h:outputScript library="#{appSetting.resourceLib}"
			name="script/primefaces-rtl-tree.js"></h:outputScript>
		<h:outputScript name="script/jquery.transit.min.js"
			library="#{appSetting.resourceLib}"></h:outputScript>
		<script>
		   
	   $(function() {
		   
		   $(".imgIcon").hover(function() {
			   $(this).closest(".imgIcon").css("z-index", 9999);
			   $(this).css('opacity', '1');
			   $(this).css('cursor', 'pointer');
			    $(this).transition({ scale: [1.4, 1.4] });
		   }, function() {
			    $(this).closest(".imgIcon").css("z-index", 0);
			    $(this).css('opacity', '0.7');
			    $(this).css('cursor', 'default');
			    $(this).transition({ scale: [1, 1] });
			});
			
		});

	   function pageNav(){
     	  setTimeout(function() { 
         	  PF('caroulsel_drawer_widget').getJQ().find('div.ui-carousel-item-active').find('.ui-button').click();
   	        
     	    }, 100);
           }
       

		  function resetFilterSearch(){
			   PF('widgetvar_lang').filter(); 
			   $('[id$=selectOneMenu_lang_filter]').val('');
           return false;
			}

		  function selectImg(event){
			  event.target.parentElement.style.backgroundColor="#F8F9FA";
			 
			}

		
		  window.onload = function() {
			  
			  CKEDITOR.on('instanceReady', function() {
				  setTimeout(cke_print(), 15000); 
			  });
			}
		    
	    
	   </script>
	</ui:define>
	<ui:define name="implementation">
		<style>
.ui-sticky {
	top: 90px !important;
}

@media ( max-width : 960px) {
	.ui-sticky {
		top: 130px !important;
	}
	.ui-panelgrid.panelgrid-text-align-center .ui-grid-responsive .ui-panelgrid-cell
		{
		text-align: center;
	}
}

.ui-panelgrid.panelgrid-text-align-center .ui-grid-responsive .ui-panelgrid-cell
	{
	text-align: center;
}

.customPanelGrid .ui-panelgrid-content {
	align-items: center;
}

.product-item .product-item-content {
	border: 1px solid var(- -surface-d);
	border-radius: 3px;
	margin: .3rem;
	text-align: center;
	padding: 2rem 0;
}

.product-item .product-image {
	width: 50%;
	box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)
}

.mt-5 {
	margin-top: 2rem !important;
}

.mr-2 {
	margin: 0.5rem !important;
}

.custom-scrolltop.ui-scrolltop {
	width: 2rem;
	height: 2rem;
	border-radius: 4px;
	outline: 0 none;
	background-color: #B9CEF2;
}

.custom-scrolltop.ui-scrolltop:hover {
	background-color: #B9CEF2;
}

.custom-scrolltop.ui-scrolltop .ui-scrolltop-icon {
	font-size: 1rem;
	color: var(- -primary-color-text);
}

.block-rtl {
	margin-right: 98px;
	margin-top: 16px;
}

.block-ltr {
	margin-left: 14px;
	margin-top: 16px;
}

img {
	cursor: pointer;
}

.ui-panelgrid.grid-text-align-right .ui-grid-responsive .ui-panelgrid-cell
	{
	text-align: right !important;
}

.ui-panelgrid.grid-text-align-left .ui-grid-responsive .ui-panelgrid-cell
	{
	text-align: left !important;
}

.customPanelGrid .ui-panelgrid-content {
	align-items: baseline;
}

.ui-divider.ui-divider-dashed.ui-divider-vertical::before {
	color: green !important;
}

body .ui-menu {
	padding: 0;
	border: 1px solid #dee2e6;
	border-radius: 4px;
	width: auto;
}

div.ui-chip {
	cursor: pointer;
}

span.ui-chip-remove-icon {
	cursor: default;
}

.ui-chip.chip-select {
	background: var(- -primary-color);
	color: var(- -primary-color-text);
}

.product .product-grid-item img {
	box-shadow: none !important;
}

.product .product-list-item img {
	box-shadow: none !important;
}

.product .product-list-item .product-price {
	font-size: 1rem;
	font-weight: 600;
	margin-bottom: .5rem;
	margin-top: .5rem;
	align-self: center;
}
</style>
		<p:tooltip trackMouse="true" widgetVar="tooltip_widgetVar" />
		<h:form id="form">
			<p:remoteCommand name="cke_print"
				oncomplete="PF('widgetvar_subject').getEditorInstance().addContentsCss('@page { size: auto;  margin: 0mm; }');"></p:remoteCommand>
			<pe:remoteCommand id="applySubjectDataCommand"
				name="applySubjectData" process="@form"
				action="#{registerIncomingMailBean.doSaveDraft()}">
				<pe:assignableParam name="subject"
					assignTo="#{registerIncomingMailBean.subject}" />
				<pe:assignableParam name="htmlSubject"
					assignTo="#{registerIncomingMailBean.htmlSubject}" />
			</pe:remoteCommand>
			<pe:remoteCommand id="applySendDataCommand" name="applySendData"
				process="@form" action="#{registerIncomingMailBean.send()}"
				update=":form:messages">
				<pe:assignableParam name="subject"
					assignTo="#{registerIncomingMailBean.subject}" />
				<pe:assignableParam name="htmlSubject"
					assignTo="#{registerIncomingMailBean.htmlSubject}" />
			</pe:remoteCommand>
			<p:growl id="messages" showDetail="true" showSummary="false" />
			<p:sticky id="sticky_events" target="toolbar_events"></p:sticky>
			<p:panelGrid id="panelGrid_mail_processing" columns="1" layout="flex"
				columnClasses="col-12 md:col-12 xl:col-12"
				styleClass="customPanelGrid" contentStyleClass="ui-fluid"
				style="border:0px none;margin-right:2%;margin-left:2%;word-wrap: break-word;border-radius: .25rem;box-shadow: 0 .5rem 1rem rgba(0,0,0,.15) !important; background-color:transparent;">
				<p:outputLabel value="#{interfaceLabel.mailProcessing}"
					style="font-weight:bolder;font-style:italic;color:black;font-size:20px;"></p:outputLabel>
				<p:divider layout="horizontal" type="dashed"
					style="margin-top:-20px;"></p:divider>

				<p:toolbar id="toolbar_events" style="margin-top:-20px;">
					<f:facet name="left">
						<p:commandButton id="commandButton_send"
							value="#{interfaceLabel.send}"
							disabled="#{registerIncomingMailBean.correspondence.seq eq null}"
							onclick="applySendData(PF('widgetvar_subject').getEditorInstance().document.getBody().getText(),PF('widgetvar_subject').getEditorInstance().getData())"
							icon="pi pi-send"
							pt:data-tooltip="#{interfaceLabel.infoAboutSendRegisteredMail}"
							styleClass="rounded-button ui-button-success ui-button-raised ui-button-flat mr-2"
							style="#{app.locale.locale eq 'en'? 'margin-right:.5rem' : 'margin-left:.5rem'};width:auto; ">
							<p:confirm header="#{interfaceLabel.confirmation}"
								message="#{interfaceLabel.wouldYouContinueAndSendCorrespondence}"
								icon="pi pi-exclamation-triangle" />
						</p:commandButton>


						<p:commandButton value="#{interfaceLabel.saveDraft}"
							disabled="#{registerIncomingMailBean.correspondence.seq eq null}"
							icon="pi pi-envelope" update=":form:messages"
							onclick="applySubjectData(PF('widgetvar_subject').getEditorInstance().document.getBody().getText(),PF('widgetvar_subject').getEditorInstance().getData())"
							style="width:auto;"
							pt:data-tooltip="#{interfaceLabel.infoAboutSaveRegisteredMail}"
							styleClass="rounded-button ui-button-help ui-button-raised ui-button-flat mr-2">
							<p:confirm header="#{interfaceLabel.confirmation}"
								message="#{interfaceLabel.wouldYouContinueAndSaveDraft}"
								icon="pi pi-exclamation-triangle" />
						</p:commandButton>
					</f:facet>
					<f:facet name="right">
						<p:commandButton value="#{interfaceLabel.backToRegisterMailPage}"
							icon="#{app.locale.rtl ? 'pi pi-arrow-circle-right':'pi pi-arrow-circle-left'}"
							style="width:auto;" action="pretty:registerIncomingMail"
							styleClass="rounded-button ui-button-danger ui-button-raised ui-button-flat mr-2">
						</p:commandButton>
					</f:facet>

				</p:toolbar>


				<p:staticMessage severity="warn"
					detail="#{interfaceLabel.infoAboutMailProcessingUi}"
					style="margin-right:25%;margin-left:25%;width: 50%;margin-top:-90px;text-align:center;"></p:staticMessage>

				<p:scrollPanel id="scrollPanel_badges"
					style="display:inline-flex;border:dashed;border-color:#B9CEF2;width: 25%;margin-right:38%;margin-left:38%;padding-bottom: 0px;"
					mode="native">
					<div class="field col-12 md:col-4" style="display: flex;">
						<p:badge
							value="#{registerIncomingMailBean.selectedUserAliasRecipients.size()}"
							severity="danger" size="large">
							<p:graphicImage library="smat-ins" styleClass="imgIcon"
								style="text-align: center !important;"
								onclick="PF('sidebar_recipients').show()"
								name="images/recipient.png" width="64" height="64"></p:graphicImage>
						</p:badge>
					</div>
					<div class="field col-12 md:col-4" style="display: flex;">
						<p:badge
							value="#{registerIncomingMailBean.mailAttachementList.size()}"
							severity="success" size="large">
							<p:graphicImage library="smat-ins" styleClass="imgIcon"
								style="text-align: center !important;"
								onclick="PF('sidebar_archive').show()"
								name="images/attachement.png" width="64" height="64"></p:graphicImage>
						</p:badge>
					</div>
					<div class="field col-12 md:col-4" style="display: flex;">
						<p:badge
							value="#{registerIncomingMailBean.linkedCorrespondenceList.size()}"
							severity="info" size="large">
							<p:graphicImage library="smat-ins" styleClass="imgIcon"
								style="text-align: center !important;"
								onclick="PF('sidebar_linked_mail').show()"
								name="images/linkedmail.png" width="64" height="64"></p:graphicImage>
						</p:badge>
					</div>
					<script type="text/javascript" style="display: none;">
						  //<![CDATA[
	   $(function() {
		   $(".imgIcon").hover(function() {
			   $(this).closest(".imgIcon").css("z-index", 9999);
			   $(this).css('opacity', '1');
			   $(this).css('cursor', 'pointer');
			    $(this).transition({ scale: [1.4, 1.4] });
		   }, function() {
			    $(this).closest(".imgIcon").css("z-index", 0);
			    $(this).css('opacity', '0.7');
			    $(this).css('cursor', 'default');
			    $(this).transition({ scale: [1, 1] });
			});
			
		});

	   $(".ui-panelgrid").click(function() { 
		   setTimeout(cke_print(), 15000);
		   $(".ui-chip").removeClass('chip-select');
	   });

	   function resetClass(){
		   $(".ui-chip").removeClass('chip-select'); 
		}
	   //]]>
						</script>

				</p:scrollPanel>
				<h:panelGroup id="panelGroup_chips" styleClass="chip-container"
					style="margin-right:5%;margin-left:5%;margin-top:-25px;margin-bottom:5px;"
					layout="block">
					<div class="flex align-items-center flex-wrap">
						<c:forEach items="#{registerIncomingMailBean.recipientList}"
							var="recipient" varStatus="loop">
							<c:if test="#{loop.count eq 5}">
								<p:commandButton value="#{interfaceLabel.more}"
									icon="pi pi-ellipsis-h"
									styleClass="ui-button-danger ui-button-flat"
									style="align-self: first baseline;flex: initial;width: auto;border-radius: 10px;display: inline-flex;"
									onclick="PF('sidebar_recipients').show()"></p:commandButton>
							</c:if>
							<c:if test="#{loop.count lt 5}">
								<p:chip label="#{recipient.userAlias.aliasName}"
									image="#{resource['smat-ins:images/anonymouse-user.jpg']}"
									styleClass="mr-2" removable="true">
									<p:ajax listener="#{registerIncomingMailBean.chipSelect}"
										oncomplete="PF('recipientInfoWidgetVar').show();"
										update="@([id$=view-recipientInfo-content])" />
									<p:ajax event="close"
										listener="#{registerIncomingMailBean.deleteRecipient(recipient)}"
										update="@([id$=panelGroup_chips],[id$=badge_recipient_size],[id$=badge_recipients])" />
								</p:chip>
							</c:if>
						</c:forEach>
					</div>
				</h:panelGroup>
				<p:dialog header="#{interfaceLabel.recipientInfo}" showEffect="fade"
					widgetVar="recipientInfoWidgetVar" closable="true"
					blockScroll="true" dynamic="true" cache="true" fitViewport="75%"
					showHeader="true" modal="true"
					onShow="PF('addArchiveWidgetVar').jq.css('height',$(window).height()*50/100);"
					onHide="resetClass();" responsive="true" width="58%" height="450px">
					<p:divider layout="horizontal" type="dashed" align="center"></p:divider>
					<p:outputPanel id="view-recipientInfo-content" class="ui-fluid"
						layout="inline" style="width:100%;height:75%">
						<p:scrollPanel
							style="border:dashed;border-color:#B9CEF2;width: auto; height: 85%"
							mode="native">
							<p:panelGrid columns="2" layout="grid"
								columnClasses="ui-g-12 ui-md-12 ui-lg-2,ui-g-12 ui-md-12 ui-lg-10"
								contentStyleClass="align-items-baseline ui-fluid"
								style="border:0px none; background-color:transparent;">
								<p:outputLabel for="@next"
									value="#{interfaceLabel.recipientName}"></p:outputLabel>
								<p:outputLabel
									value="#{registerIncomingMailBean.recepientUser.userAlias.aliasName}"
									style="color:green;font-weight:bolder;font-style:italic;"></p:outputLabel>

								<p:outputLabel for="@next"
									value="#{interfaceLabel.priorityType}"></p:outputLabel>
								<p:selectOneMenu
									style="background-color:#FFF0F5;font-weight:bolder;font-style:italic;"
									value="#{registerIncomingMailBean.priorityType}"
									converter="omnifaces.SelectItemsIndexConverter">
									<f:selectItems itemLabel="#{priorityType.name}"
										itemValue="#{priorityType}" var="priorityType"
										value="#{registerIncomingMailBean.priorityTypeList}" />
								</p:selectOneMenu>
								<p:outputLabel for="@next" value="#{interfaceLabel.purposeType}" />
								<p:selectOneMenu
									style="background-color:#FFF0F5;font-weight:bolder;font-style:italic;"
									value="#{registerIncomingMailBean.purposeType}"
									converter="omnifaces.SelectItemsIndexConverter">
									<f:selectItems itemLabel="#{purposeType.name} "
										itemValue="#{purposeType}" var="purposeType"
										value="#{registerIncomingMailBean.purposeTypeList}" />
								</p:selectOneMenu>
								<p:outputLabel for="@next" value="#{interfaceLabel.note}" />
								<pe:ckEditor
									value="#{registerIncomingMailBean.recepientUser.htmlNote}"
									skin="office2013" width="100%" height="70px"
									widgetVar="widgetvar_update_note"
									toolbar="#{registerIncomingMailBean.localizationCkEditorNoteToolBar()}"
									placeholder="#{interfaceLabel.note}"
									defaultLanguage="#{app.locale.language}"
									language="#{app.locale.language}"></pe:ckEditor>

							</p:panelGrid>

						</p:scrollPanel>
						<pe:remoteCommand name="updateData"
							process="@([id$=view-recipientInfo-content])"
							update="@([id$=dt-correspondenceRecipient],[id$=badge_recipient],[id$=panelGroup_chips])"
							actionListener="#{registerIncomingMailBean.updateRecipientInfo()}">
							<pe:assignableParam name="note"
								assignTo="#{registerIncomingMailBean.note}" />
							<pe:assignableParam name="htmlNote"
								assignTo="#{registerIncomingMailBean.htmlNote}" />
						</pe:remoteCommand>
						<div style="display: flex; margin-top: 2%;">
							<p:commandButton value="#{interfaceLabel.update}"
								onclick="updateData(PF('widgetvar_update_note').getEditorInstance().document.getBody().getText(),PF('widgetvar_update_note').getEditorInstance().getData())"
								icon="pi pi-check-square"
								oncomplete="PF('recipientInfoWidgetVar').hide();"
								styleClass="rounded-button ui-button-success ui-button-raised ui-button-flat"
								style="#{app.locale.locale eq 'en'? 'margin-right:.5rem' : 'margin-left:.5rem'};width:auto; ">
							</p:commandButton>
							<p:commandButton value="#{interfaceLabel.close}"
								icon="pi pi-times-circle" style="width:auto;"
								onclick="PF('recipientInfoWidgetVar').hide();"
								styleClass="rounded-button ui-button-danger ui-button-raised ui-button-flat">

							</p:commandButton>
						</div>
					</p:outputPanel>
				</p:dialog>
				<p:panelGrid columns="3" layout="grid"
					columnClasses="ui-g-12 ui-md-1 ui-lg-1,ui-g-12 ui-md-10 ui-lg-10,ui-g-12 ui-md-1 ui-lg-1"
					contentStyleClass="align-items-baseline ui-fluid"
					styleClass="panelgrid-text-align-center"
					style="margin-top:-60px;border:0px none;margin-right:20%;margin-left:20%;word-wrap: break-word;border-radius: .25rem;box-shadow: 0 .5rem 1rem rgba(0,0,0,.15) !important; background-color:transparent;">
					<p:column></p:column>
					<p:panelGrid columns="2" layout="grid"
						columnClasses="ui-g-12 ui-md-6 ui-lg-3,ui-g-12 ui-md-6 ui-lg-9"
						contentStyleClass="align-items-baseline ui-fluid"
						styleClass="panelgrid-text-align-center"
						style="border:0px none; background-color:transparent;">
						<p:outputLabel for="@next"
							style="color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.jobPositionTitle}</p:outputLabel>
						<p:selectOneMenu
							value="#{registerIncomingMailBean.userAliasOwner}"
							converter="omnifaces.SelectItemsIndexConverter"
							style="background-color:#F9F9FB;color:black;font-weight:bolder;font-style:italic;">
							<p:ajax
								listener="#{registerIncomingMailBean.updateUserAliasList()}"
								update="@([id$=selectCheckBoxMenu_UserAliasRecpient],[id$=caroulssel_myCabinets])"></p:ajax>
							<f:selectItems
								itemLabel="#{userAlias.sysUserBySysUser.displayName} / #{userAlias.organizationByOrganization.name} / #{userAlias.jobPosition.name}"
								itemValue="#{userAlias}" var="userAlias"
								value="#{registerIncomingMailBean.myUserAliasList}" />
						</p:selectOneMenu>
					</p:panelGrid>
					<p:column></p:column>
				</p:panelGrid>
				<p:divider layout="horizontal" type="dashed"
					style="margin-top:-20px;"></p:divider>
				<p:panelGrid columns="3" layout="grid"
					columnClasses="ui-g-12 ui-md-1 ui-lg-1,ui-g-12 ui-md-10 ui-lg-10,ui-g-12 ui-md-1 ui-lg-1"
					contentStyleClass="align-items-baseline ui-fluid"
					styleClass="panelgrid-text-align-center"
					style="border:0px none; background-color:transparent;margin-top:-40px;">
					<p:panelGrid columns="1" layout="grid"
						columnClasses="ui-g-12 ui-md-12 ui-lg-12"
						contentStyleClass="align-items-baseline ui-fluid"
						styleClass="panelgrid-text-align-center"
						style="border:0px none; background-color:transparent;">
						<p:badge id="badge_recipient_size"
							value="#{registerIncomingMailBean.selectedUserAliasRecipients.size()}"
							severity="danger">
							<p:commandLink title="#{interfaceLabel.recipients}"
								onclick="PF('sidebar_recipients').show()">
								<i class="pi pi-users" style="font-size: 2rem; color: red"></i>
							</p:commandLink>
						</p:badge>
						<p:badge id="badge_archive_size"
							value="#{registerIncomingMailBean.mailAttachementList.size()}"
							severity="success">
							<p:commandLink title="#{interfaceLabel.archive}"
								onclick="PF('sidebar_archive').show()">
								<i class="pi pi-paperclip" style="font-size: 2rem; color: green"></i>
							</p:commandLink>
						</p:badge>
						<p:badge id="badge_linked_mail_size"
							value="#{registerIncomingMailBean.linkedCorrespondenceList.size()}"
							severity="info">
							<p:commandLink title="#{interfaceLabel.linkedMail}"
								onclick="PF('sidebar_linked_mail').show()">
								<i class="fa fa-link" style="font-size: 2rem; color: #0287CF"></i>
							</p:commandLink>
						</p:badge>
					</p:panelGrid>
					<p:panelGrid columns="6" layout="grid"
						columnClasses="ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-6 ui-lg-2"
						contentStyleClass="align-items-baseline ui-fluid"
						styleClass="panelgrid-text-align-center"
						style="border:0px none; background-color:transparent;">
						<p:outputLabel
							style="color:black;font-weight:bolder;font-style:italic;"
							value="#{interfaceLabel.correspondenceType}" />
						<p:selectOneMenu
							style="background-color:#F9F9FB;font-weight:bolder;font-style:italic;"
							value="#{registerIncomingMailBean.correspondence.correspondenceType}"
							converter="omnifaces.SelectItemsIndexConverter">
							<f:selectItems itemLabel="#{correspondenceType.name} "
								itemValue="#{correspondenceType}" var="correspondenceType"
								value="#{registerIncomingMailBean.correspondenceTypeList}" />
						</p:selectOneMenu>
						<p:outputLabel
							style="color:black;font-weight:bolder;font-style:italic;"
							for="@next" value="#{interfaceLabel.priorityType}"></p:outputLabel>
						<p:selectOneMenu
							style="background-color:#F9F9FB;font-weight:bolder;font-style:italic;"
							value="#{registerIncomingMailBean.correspondence.priorityType}"
							converter="omnifaces.SelectItemsIndexConverter">
							<p:ajax event="change"
								listener="#{registerIncomingMailBean.updatePriorityType()}"
								update="@([id$=selectOneMenu_Priority_Type])"></p:ajax>
							<f:selectItems itemLabel="#{priorityType.name}"
								itemValue="#{priorityType}" var="priorityType"
								value="#{registerIncomingMailBean.priorityTypeList}" />
						</p:selectOneMenu>
						<p:column></p:column>
						<p:column></p:column>
						<p:outputLabel
							style="color:black;font-weight:bolder;font-style:italic;"
							value="#{interfaceLabel.side}" />
						<p:inputText
							style="background-color:#EEF7FE;color:black;font-weight:bolder;font-style:italic;"
							value="#{registerIncomingMailBean.correspondence.fromEntity}"></p:inputText>
						<p:outputLabel
							style="color:black;font-weight:bolder;font-style:italic;"
							value="#{interfaceLabel.theirNumber}" />
						<p:inputText
							style="background-color:#EEF7FE;color:black;font-weight:bolder;font-style:italic;"
							value="#{registerIncomingMailBean.correspondence.fromNumber}"></p:inputText>
						<p:outputLabel
							style="color:black;font-weight:bolder;font-style:italic;"
							value="#{interfaceLabel.theirDate}" />
						<p:datePicker
							pattern="#{app.locale.rtl ? 'yyyy/MM/dd':'dd/MM/yyyy'}"
							inputStyle="background-color:#EEF7FE;color:black;font-weight:bolder;font-style:italic;"
							value="#{registerIncomingMailBean.correspondence.fromDate}"></p:datePicker>
						<p:outputLabel value="#{interfaceLabel.number}" />
						<p:inputText readonly="true" style="color:#2196F3"
							value="#{registerIncomingMailBean.correspondence.correspondenceSeq}"></p:inputText>
						<p:outputLabel value="#{interfaceLabel.date}" />
						<p:datePicker
							pattern="#{app.locale.rtl ? 'yyyy/MM/dd':'dd/MM/yyyy'}"
							value="#{registerIncomingMailBean.correspondence.correspondenceDate}"></p:datePicker>
						<p:outputLabel value="#{interfaceLabel.creatorDate}" />
						<p:datePicker disabled="true" readonly="true"
							pattern="#{app.locale.rtl ? 'yyyy/MM/dd':'dd/MM/yyyy'}"
							value="#{registerIncomingMailBean.correspondence.createdDate}"></p:datePicker>

					</p:panelGrid>
					<p:column></p:column>
				</p:panelGrid>
				<p:divider layout="horizontal" type="dashed"
					style="margin-top:-20px;"></p:divider>

				<p:panelGrid columns="3" layout="grid"
					columnClasses="ui-g-12 ui-md-1 ui-lg-1,ui-g-12 ui-md-10 ui-lg-10,ui-g-12 ui-md-1 ui-lg-1"
					contentStyleClass="align-items-baseline ui-fluid"
					styleClass="panelgrid-text-align-center"
					style="border:0px none; background-color:transparent;margin-top:-50px;">
					<p:column></p:column>

					<p:inputText placeholder="#{interfaceLabel.correspondenceTitle}"
						style="font-weight:bolder;font-style:italic;color:black;background-color:#F9F9FB;"
						value="#{registerIncomingMailBean.correspondence.title}"></p:inputText>

					<p:column></p:column>
				</p:panelGrid>

				<script type="text/javascript">
                $(".cke_print_editor").on( "mouseover", function(){
                	cke_print();
                	
                });
               
                </script>
				<p:panelGrid columns="3" layout="grid"
					columnClasses="ui-g-12 ui-md-1 ui-lg-1,ui-g-12 ui-md-10 ui-lg-10,ui-g-12 ui-md-1 ui-lg-1"
					contentStyleClass="align-items-baseline ui-fluid"
					styleClass="panelgrid-text-align-center cke_print_editor"
					style="border:0px none; background-color:transparent;margin-top:-70px">
					<p:column></p:column>
					<pe:ckEditor widgetVar="widgetvar_subject"
						value="#{registerIncomingMailBean.htmlSubject}" width="100%"
						height="200px" placeholder="#{interfaceLabel.subject}"
						toolbar="#{registerIncomingMailBean.localizationCkEditorToolBar()}"
						skin="office2013" defaultLanguage="#{app.locale.language}"
						language="#{app.locale.language}"></pe:ckEditor>
					<p:column></p:column>
				</p:panelGrid>

			</p:panelGrid>

			<p:sidebar id="sidebar_recipient_content"
				style="width:65%;overflow: auto;" widgetVar="sidebar_recipients"
				blockScroll="true" dynamic="true"
				position="#{app.locale.locale eq 'en'? 'left' : 'right'}">
				<p:divider align="center" type="dashed">
					<div class="inline-flex align-items-center">
						<p:badge id="badge_recipients"
							value="#{registerIncomingMailBean.selectedUserAliasRecipients.size()}"
							severity="danger">
							<i class="pi pi-users" style="font-size: 2rem; color: red"></i>
						</p:badge>
						<p:spacer width="5"></p:spacer>
						<p:outputLabel value="#{interfaceLabel.recipients}"
							style="color:red;font-weight: bold"></p:outputLabel>
					</div>
				</p:divider>

				<p:panelGrid columns="2"
					id="panelGrid_selectCheckBoxMenu_UserAliasRecpient"
					columnClasses="ui-grid-col-2 ,ui-grid-col-10" layout="grid"
					styleClass="ui-panelgrid-blank ui-fluid"
					style="border:0px none; background-color:transparent;">

					<p:outputLabel for="@next">#{interfaceLabel.to}</p:outputLabel>
					<p:selectCheckboxMenu id="selectCheckBoxMenu_UserAliasRecpient"
						multiple="true" filter="true" filterMatchMode="contains"
						updateLabel="true" widgetVar="widgetVar_SelectCheckBoxMenu"
						valueChangeListener="#{registerIncomingMailBean.updateBadge()}"
						emptyLabel="#{interfaceLabel.noRecipientsSelected}"
						value="#{registerIncomingMailBean.selectedUserAliasRecipients}">
						<p:ajax event="toggleSelect"
							update="badge_recipient_size badge_recipients scrollPanel_badges panelGroup_chips"></p:ajax>
						<p:ajax event="change"
							update="badge_recipient_size badge_recipients scrollPanel_badges panelGroup_chips"></p:ajax>
						<p:ajax event="itemUnselect"
							update="badge_recipient_size badge_recipients scrollPanel_badges panelGroup_chips"></p:ajax>
						<f:selectItems
							itemLabel=" ( #{userAlias.userCode} )#{userAlias.sysUserBySysUser.displayName} / #{userAlias.organizationByOrganization.name} / #{userAlias.jobPosition.name}"
							itemValue="#{userAlias}" var="userAlias"
							value="#{registerIncomingMailBean.userAliasRecipientList}" />
						<o:converter converterId="omnifaces.ListIndexConverter"
							list="#{registerIncomingMailBean.userAliasRecipientList}" />
					</p:selectCheckboxMenu>
				</p:panelGrid>

				<p:panelGrid columns="4"
					columnClasses="ui-grid-col-2 ,ui-grid-col-4 ,ui-grid-col-2,ui-grid-col-4"
					layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
					style="border:0px none; background-color:transparent;">

					<p:outputLabel for="@next" value="#{interfaceLabel.priorityType}"></p:outputLabel>
					<p:selectOneMenu id="selectOneMenu_Priority_Type"
						style="background-color:#F9F9FB;font-weight:bolder;font-style:italic;"
						value="#{registerIncomingMailBean.priorityType}"
						converter="omnifaces.SelectItemsIndexConverter">
						<f:selectItems itemLabel="#{priorityType.name}"
							itemValue="#{priorityType}" var="priorityType"
							value="#{registerIncomingMailBean.priorityTypeList}" />
					</p:selectOneMenu>
					<p:outputLabel for="@next" value="#{interfaceLabel.purposeType}" />
					<p:selectOneMenu
						style="background-color:#F9F9FB;font-weight:bolder;font-style:italic;"
						value="#{registerIncomingMailBean.purposeType}"
						converter="omnifaces.SelectItemsIndexConverter">
						<p:ajax event="change" update="@([id$=panelGroup_Task])"></p:ajax>
						<f:selectItems itemLabel="#{purposeType.name} "
							itemValue="#{purposeType}" var="purposeType"
							value="#{registerIncomingMailBean.purposeTypeList}" />
					</p:selectOneMenu>
				</p:panelGrid>
				<p:panelGrid id="panelGrid_editor" columns="2"
					columnClasses="ui-grid-col-2 ,ui-grid-col-10" layout="grid"
					styleClass="ui-panelgrid-blank ui-fluid"
					style="border:0px none; background-color:transparent;">
					<p:outputLabel for="@next" value="#{interfaceLabel.note}" />
					<pe:ckEditor id="ckEditor_note" widgetVar="widgetvar_note"
						value="#{registerIncomingMailBean.htmlNote}" skin="office2013"
						width="100%" height="70px"
						toolbar="#{registerIncomingMailBean.localizationCkEditorNoteToolBar()}"
						placeholder="#{interfaceLabel.note}"
						defaultLanguage="#{app.locale.language}"
						language="#{app.locale.language}"></pe:ckEditor>

				</p:panelGrid>
				<h:panelGroup id="panelGroup_Task">
					<p:panelGrid id="panelGrid_task" columns="4"
						rendered="#{registerIncomingMailBean.purposeType.code eq '03'}"
						columnClasses="ui-grid-col-2 ,ui-grid-col-4 ,ui-grid-col-2,ui-grid-col-4"
						layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
						style="border:0px none; background-color:transparent;">
						<p:outputLabel value="Company name"></p:outputLabel>
						<p:selectOneMenu
							style="background-color:#F9F9FB;font-weight:bolder;font-style:italic;"
							value="#{registerIncomingMailBean.company}"
							converter="omnifaces.SelectItemsIndexConverter">
							<f:selectItems itemLabel="#{company.name} "
								itemValue="#{company}" var="company"
								value="#{registerIncomingMailBean.companies}" />
						</p:selectOneMenu>
						<p:outputLabel value="Equipment name"></p:outputLabel>
						<p:inputText value="#{registerIncomingMailBean.equipmentName}"></p:inputText>
						<p:outputLabel value="Task date"></p:outputLabel>
						<p:calendar value="#{registerIncomingMailBean.taskDate}"></p:calendar>
					</p:panelGrid>
					<p:panelGrid id="panelGrid_task_desc" columns="2"
						rendered="#{registerIncomingMailBean.purposeType.code eq '03'}"
						columnClasses="ui-grid-col-2 ,ui-grid-col-10" layout="grid"
						styleClass="ui-panelgrid-blank ui-fluid"
						style="border:0px none; background-color:transparent;">
						<p:outputLabel value="Task descriprion"></p:outputLabel>
						<p:inputTextarea
							value="#{registerIncomingMailBean.taskDescription}"></p:inputTextarea>
					</p:panelGrid>
				</h:panelGroup>
				<pe:remoteCommand id="applyDataCommand" name="applyData"
					process="@([id$=sidebar_recipient_content])"
					update="@([id$=dt-correspondenceRecipient],[id$=panelGrid_editor],[id$=badge_recipient],[id$=panelGroup_chips])"
					actionListener="#{registerIncomingMailBean.addCorrespondenceRecipient()}">
					<pe:assignableParam name="note"
						assignTo="#{registerIncomingMailBean.note}" />
					<pe:assignableParam name="htmlNote"
						assignTo="#{registerIncomingMailBean.htmlNote}" />
				</pe:remoteCommand>
				<p:toolbar id="toolbar">
					<f:facet name="left">
						<p:spacer width="160px;"></p:spacer>
						<p:commandButton value="#{interfaceLabel.add}"
							icon="pi pi-plus-circle"
							styleClass="ui-button-raised ui-button-success ui-button-flat"
							type="button"
							onclick="applyData(PF('widgetvar_note').getEditorInstance().document.getBody().getText(),PF('widgetvar_note').getEditorInstance().getData())" />
						<p:divider layout="vertical" type="dashed"></p:divider>
						<p:commandButton value="#{interfaceLabel.reset}"
							icon="pi pi-trash"
							styleClass="ui-button-raised ui-button-danger ui-button-flat"
							ajax="true">
						</p:commandButton>
					</f:facet>
				</p:toolbar>
				<p:divider type="dashed" style="margin-top:-10px;"></p:divider>
				<p:dataTable id="dt-correspondenceRecipient"
					widgetVar="dtCorrespondenceRecipient"
					var="correspondenceRecipientVar"
					value="#{registerIncomingMailBean.recipientList}" reflow="true"
					rowKey="#{correspondenceRecipientVar.id}" paginator="true"
					rows="10" emptyMessage="#{interfaceLabel.noRecordsFound}"
					paginatorPosition="bottom">

					<p:column headerText="#{interfaceLabel.to}" width="40%">
						<h:outputText
							style="font-weight:bolder;font-style:italic;color:green;"
							value="#{correspondenceRecipientVar.userAlias.sysUserBySysUser.displayName} / #{correspondenceRecipientVar.userAlias.jobPosition.name}  / #{correspondenceRecipientVar.userAlias.organizationByOrganization.name} " />
					</p:column>
					<p:column headerText="#{interfaceLabel.priorityType}">
						<h:outputText
							value="#{correspondenceRecipientVar.priorityType.name} " />
					</p:column>
					<p:column headerText="#{interfaceLabel.purposeType}">
						<h:outputText
							value="#{correspondenceRecipientVar.purposeType.name} " />
					</p:column>
					<p:column headerText="#{interfaceLabel.note}">
							#{correspondenceRecipientVar.note}
						</p:column>

					<p:column width="30">
						<p:commandButton
							styleClass="rounded-button ui-button-danger ui-button-outlined"
							icon="pi pi-trash" title="#{interfaceLabel.delete}"
							process="@this"
							update="@([id$=panelGroup_chips],[id$=scrollPanel_badges],[id$=badge_recipient_size],[id$=badge_recipients])"
							action="#{registerIncomingMailBean.removeCorrespondenceRecipient(correspondenceRecipientVar)}">
						</p:commandButton>
					</p:column>
				</p:dataTable>
				<p:scrollTop behavior="smooth" target="parent" threshold="50" />
			</p:sidebar>

			<p:sidebar id="sidebar_archive_content" blockScroll="true"
				dynamic="true" style="width:85%;overflow: auto;"
				widgetVar="sidebar_archive"
				position="#{app.locale.locale eq 'en'? 'left' : 'right'} ">
				<p:divider align="center" type="dashed">
					<div class="inline-flex align-items-center">
						<p:badge id="badge_archive_count"
							value="#{registerIncomingMailBean.mailAttachementList.size()}"
							severity="success">
							<i class="pi pi-paperclip" style="font-size: 2rem; color: green"></i>
						</p:badge>
						<p:spacer width="5"></p:spacer>
						<p:outputLabel value="#{interfaceLabel.archive}"
							style="color:green;font-weight: bold"></p:outputLabel>
					</div>
				</p:divider>
				<p:tabView>
					<p:tab title="#{interfaceLabel.prepareDocument}">
						<p:wizard showNavBar="false" showStepStatus="false"
							widgetVar="widgetVar_wizard">
							<p:tab id="tab_cabinets" title="#{interfaceLabel.cabinets}">
								<p:panelGrid columns="1" layout="flex"
									columnClasses="col-12 md:col-12 xl:col-12"
									styleClass="customPanelGrid" contentStyleClass="ui-fluid"
									style="border:0px none;margin-right:7%;margin-left:7%;margin-top:5%;word-wrap: break-word;border-radius: .25rem;box-shadow: 0 .5rem 1rem rgba(0,0,0,.15) !important; background-color:transparent;">
									<p:column>
										<p:outputLabel value="#{interfaceLabel.theDocumentsIn}"
											style="text-align: center !important;color: #F4CA16;padding: 10px;font-size: 1rem;font-style: oblique;font-weight: bolder;">
											<i class="pi pi-ellipsis-h"></i>
										</p:outputLabel>


										<p:outputLabel id="outputLabel_cabinet"
											value="#{registerIncomingMailBean.cabinet.name}"
											style="text-align: center !important;color:#008000;padding: 10px;font-size: 1.2rem;font-style: oblique;font-weight: bolder;">
											<i class="pi pi-server"></i>
										</p:outputLabel>

										<p:commandButton ajax="true" value="#{interfaceLabel.next}"
											process="@this" title=""
											action="#{registerIncomingMailBean.assignCabinetAndContinue()}"
											oncomplete="PF('widgetVar_wizard').next();"
											style="#{app.locale.rtl ? 'float:left':'float:right'};width:auto;"
											icon="#{app.locale.rtl ? 'pi pi-arrow-left':'pi pi-arrow-right'}"
											styleClass="ui-button-raised ui-button-success ui-button-flat mr-2" />

									</p:column>

									<p:staticMessage severity="warn"
										detail="#{interfaceLabel.chooseCabinetThenClickNext}"
										style="margin-right:20%;margin-left:20%;width: 50%;text-align:center;"></p:staticMessage>

									<p:carousel id="caroulssel_myCabinet"
										value="#{registerIncomingMailBean.myCabinets}"
										var="cabinetVar" numVisible="3" numScroll="3"
										responsiveOptions="#{registerIncomingMailBean.responsiveOptions}">
										<f:facet name="header">

										</f:facet>
										<div class="product-item">
											<div class="product-item-content">
												<div class="mb-3">
													<p:graphicImage
														name="#{registerIncomingMailBean.imgIcon(cabinetVar.cabinetType)}"
														width="150" height="121.033" library="smat-ins" />
												</div>
												<div>
													<h4 class="mb-1">#{cabinetVar.name}</h4>
													<h6 class="mt-0 mb-3">
														<h:outputText value="#{cabinetVar.description}">

														</h:outputText>
													</h6>
													<span
														class="product-badge status-#{cabinetVar.cabinetType.englishName.toLowerCase()}">#{cabinetVar.code}</span>
													<div class="mt-5">

														<p:commandButton
															icon="#{app.locale.rtl ? 'pi pi-arrow-left':'pi pi-arrow-right'}"
															ajax="true" process="@this"
															title="#{interfaceLabel.view} #{interfaceLabel.drawers}"
															actionListener="#{registerIncomingMailBean.assignCabinet(cabinetVar)}"
															update="@([id$=outputLabel_cabinet])"
															oncomplete="PF('widgetVar_wizard').next();"
															styleClass="ui-button-raised rounded-button mr-2" />
													</div>
												</div>
											</div>
										</div>
									</p:carousel>
								</p:panelGrid>
							</p:tab>
							<p:tab id="tab_drawers" title="#{interfaceLabel.drawers}">
								<pe:remoteCommand name="applyPageIndex" process="@form">
									<pe:assignableParam name="pageIndex"
										assignTo="#{registerIncomingMailBean.pageIndex}" />
								</pe:remoteCommand>
								<div class="product ">
									<p:panelGrid id="panelGrid_drawers" columns="2" layout="grid"
										columnClasses="ui-g-12 ui-md-5 ui-lg-4,ui-g-12 ui-md-7 ui-lg-8"
										contentStyleClass="align-items-baseline ui-fluid"
										styleClass="panelgrid-text-align-center"
										style="border:0px none; background-color:transparent;">

										<p:carousel id="caroulsel_drawers"
											value="#{registerIncomingMailBean.cabinetDefinitions}"
											page="#{registerIncomingMailBean.pageIndex}"
											widgetVar="caroulsel_drawer_widget"
											var="cabinetDefinitionVar" verticalViewPortHeight="352px"
											onPageChange="applyPageIndex(PF('caroulsel_drawer_widget').page); pageNav();"
											style="max-width: 400px;" orientation="vertical">
											<f:facet name="header">
						                          #{interfaceLabel.choose} #{interfaceLabel.drawer}
						                          <p:divider align="center" type="solid"></p:divider>
											</f:facet>
											<div class="product-item">
												<div class="product-item-content">
													<div class="mb-3">
														<p:graphicImage name="images/drawer-icon.jpg" width="250"
															height="121.033" library="smat-ins" />
													</div>
													<div>
														<h4 class="mb-1">#{cabinetDefinitionVar.drawerName}</h4>
														<h6 class="mt-0 mb-3">
															<p:outputLabel value="#{interfaceLabel.drawerOrder} : "
																style="color:green;font-weight:bolder;"></p:outputLabel>
															<h:outputText value="#{cabinetDefinitionVar.drawerOrder}"
																style="color:green;font-weight:bolder;">
															</h:outputText>
														</h6>
														<span
															class="product-badge status-#{cabinetDefinitionVar.cabinet.cabinetType.englishName.toLowerCase()}"
															style="color: green; font-weight: bolder; font-size: 1.4em; font-style: italic;">#{cabinetDefinitionVar.code}</span>
														<span
															class="product-badge status-#{cabinetDefinitionVar.cabinet.cabinetType.englishName.toLowerCase()}"
															style="font-size: 0.9em">#{cabinetDefinitionVar.cabinet.code}
														</span>
														<div class="mt-5">
															<p:commandButton id="commandButton_selectDrawer"
																icon="pi pi-search" update="@([id$=panelGrid_drawers])"
																actionListener="#{registerIncomingMailBean.assignCabinetDefinition(cabinetDefinitionVar)}"
																title="#{interfaceLabel.view} #{interfaceLabel.folders}"
																styleClass="rounded-button ui-button-raised ui-button-danger ui-button-flat" />
														</div>
													</div>
												</div>
											</div>
										</p:carousel>
										<p:column>
											<p:outputLabel value="#{interfaceLabel.theFoldersIn}"
												style="text-align: center !important;color: #F4CA16;padding: 10px;font-size: 1rem;font-style: oblique;font-weight: bolder;">
												<i class="pi pi-ellipsis-h"></i>
											</p:outputLabel>
											<p:commandLink class="mr-4"
												onclick="PF('widgetVar_wizard').back();"
												value="#{registerIncomingMailBean.cabinet.name}"
												style="text-align: center !important;color: green;padding: 10px;font-size: 1rem;font-style: oblique;font-weight: bolder;">
												<i
													class="#{app.locale.rtl ? 'pi pi-angle-left':'pi pi-angle-right'}"></i>
											</p:commandLink>

											<p:outputLabel
												value="#{registerIncomingMailBean.cabinetDefinition.drawerName}"
												style="text-align: center !important;color: #F4CA16;padding: 10px;font-size: 1.2rem;font-style: oblique;font-weight: bolder;">
												<i
													class="#{app.locale.rtl ? 'pi pi-folder-open':'pi pi-folder-open'}"></i>
											</p:outputLabel>

											<p:commandButton ajax="true" value="#{interfaceLabel.back}"
												process="@this" title=""
												onclick="PF('widgetVar_wizard').back();"
												style="#{app.locale.rtl ? 'float:left':'float:right'};width:auto;"
												icon="#{app.locale.rtl ? 'pi pi-arrow-right':'pi pi-arrow-left'}"
												styleClass="ui-button-raised ui-button-success ui-button-flat" />

											<p:commandButton
												value="#{interfaceLabel.add} #{interfaceLabel.folder}"
												actionListener="#{registerIncomingMailBean.openNewCabinetFolder()}"
												oncomplete="PF('addFolderDialog').show()"
												update="@([id$=add-folder-content])"
												style="#{app.locale.rtl ? 'float:left':'float:right'};width:auto;"
												icon="pi pi-plus-circle"
												title="#{interfaceLabel.add} #{interfaceLabel.folder}"
												styleClass="ui-button-raised ui-button-danger ui-button-flat"
												rendered="#{not empty registerIncomingMailBean.cabinetDefinition.drawerName}" />
											<p:divider align="center" type="solid"></p:divider>
											<p:scrollPanel
												style="border:dashed;border-color:#B9CEF2;height:501.4px"
												mode="native">

												<p:panelGrid id="panelGrid_folder_empty_image" columns="1"
													layout="grid" columnClasses="ui-g-12 ui-md-12 ui-lg-12"
													styleClass="customPanelGrid" contentStyleClass="ui-fluid"
													style="border:0px none; background-color:transparent;"
													rendered="#{empty registerIncomingMailBean.cabinetDefinition.drawerName}">
													<p:staticMessage severity="WARN"
														summary="#{interfaceLabel.warning}"
														detail="#{interfaceLabel.noDrawerSelected}"
														style="width: 100%" />
													<p:graphicImage name="images/empty-drawer.png"
														library="smat-ins"></p:graphicImage>
												</p:panelGrid>
												<p:dataView id="dv-folders" var="folderVar"
													rendered="#{not empty registerIncomingMailBean.cabinetDefinition.drawerName}"
													value="#{registerIncomingMailBean.cabinetFolders}" rows="3"
													paginator="true" multiViewState="true"
													widgetVar="dv-foldersWidget"
													emptyMessage="#{interfaceLabel.noRecordsFound}"
													paginatorPosition="bottom"
													paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
													gridIcon="pi pi-th-large" listIcon="pi pi-bars"
													layout="grid" gridRowStyleClass="lg:col-6 xl:col-4"
													flex="true">

													<p:dataViewGridItem>
														<div class="product-grid-item card border-1">
															<div class="product-grid-item-top">
																<div>
																	<i class="pi pi-tag product-category-icon" /> <span
																		class="product-category">#{folderVar.cabinetDefinition.drawerName}</span>
																</div>
																<span
																	class="product-badge status-#{folderVar.cabinetDefinition.cabinet.cabinetType.englishName.toLowerCase()}">#{folderVar.code}</span>
															</div>
															<div class="product-grid-item-content">
																<p:graphicImage styleClass="imgIcon"
																	name="#{folderVar.cabinetFolderDocuments.size() > 0 ? 'images/cabinet-folder-full.png':'images/cabinet-folder.jpg'}"
																	library="smat-ins" />
																<div class="product-name">#{folderVar.name}</div>
																<div class="product-description">#{folderVar.description}</div>

															</div>
															<div class="product-grid-item-bottom">
																<h:outputText
																	value="#{interfaceLabel.theNumber}: #{folderVar.cabinetFolderDocuments.size()}"
																	styleClass="product-price">

																</h:outputText>
																<p:commandButton value="#{interfaceLabel.view}"
																	style="width:auto;" icon="pi pi-sign-in"
																	oncomplete="PF('widgetVar_wizard').next();"
																	actionListener="#{registerIncomingMailBean.assignCabinetFolder(folderVar)}"
																	styleClass="rounded-button ui-button-raised ui-button-danger ui-button-flat">
																</p:commandButton>
															</div>
														</div>
													</p:dataViewGridItem>

													<p:dataViewListItem>
														<div class="product-list-item">
															<p:graphicImage
																name="#{folderVar.cabinetFolderDocuments.size() > 0 ? 'images/cabinet-folder-full.png':'images/cabinet-folder.jpg'}"
																library="smat-ins" />
															<div class="product-list-detail">
																<div class="product-name">#{folderVar.name}</div>
																<div class="product-description">#{folderVar.description}</div>

																<i class="pi pi-tag product-category-icon" /><span
																	class="product-category">#{folderVar.cabinetDefinition.drawerName}</span>
															</div>
															<div class="product-list-action">


																<span
																	class="product-badge status-#{folderVar.cabinetDefinition.cabinet.cabinetType.englishName.toLowerCase()}">#{folderVar.code}</span>
																<h:outputText
																	value="#{interfaceLabel.theNumber}: #{folderVar.cabinetFolderDocuments.size()}"
																	styleClass="product-price">

																</h:outputText>
																<p:commandButton value="#{interfaceLabel.view}"
																	style="width:auto;" icon="pi pi-sign-in"
																	oncomplete="PF('widgetVar_wizard').next();"
																	actionListener="#{registerIncomingMailBean.assignCabinetFolder(folderVar)}"
																	styleClass="rounded-button ui-button-raised ui-button-danger ui-button-flat">
																</p:commandButton>
															</div>
														</div>
													</p:dataViewListItem>
												</p:dataView>
												<p:scrollTop target="parent" threshold="20"
													styleClass="custom-scrolltop" icon="pi pi-arrow-up" />
											</p:scrollPanel>
										</p:column>
									</p:panelGrid>
								</div>
							</p:tab>
							<p:tab id="tab_arch_doc"
								title="#{interfaceLabel.archiveDocuments}">
								<p:panelGrid id="panelGrid_content" columns="2" layout="grid"
									columnClasses="ui-g-12 ui-md-5 ui-lg-4,ui-g-12 ui-md-7 ui-lg-8"
									contentStyleClass="align-items-baseline ui-fluid"
									style="border:0px none; background-color:transparent;">
									<p:panelGrid id="panelGrid_tree" columns="1" layout="grid"
										columnClasses="ui-g-12 ui-md-12 ui-lg-12"
										contentStyleClass="align-items-baseline ui-fluid"
										style="border:0px none; background-color:transparent;">
										<p:column>

											<p:commandButton value="#{interfaceLabel.addArchive}"
												actionListener="#{registerIncomingMailBean.openNewDocument()}"
												update=":form:manage-add-archive-content"
												oncomplete="PF('addArchiveWidgetVar').show()"
												style="#{app.locale.rtl ? 'float:right':'float:left'};width:auto;"
												icon="pi pi-plus-circle"
												title="#{interfaceLabel.addArchive}"
												styleClass="ui-button-raised ui-button-danger ui-button-flat" />
											<p:commandButton value="#{interfaceLabel.search}"
												actionListener="#{registerIncomingMailBean.prepareDocumentForSearch(true)}"
												delay="200" update="@([id$=outputPanel_document])"
												oncomplete="PF('widgetVarDocumentDlg').show();"
												style="#{app.locale.rtl ? 'float:right':'float:left'};width:auto;"
												icon="fa fa-search" title="#{interfaceLabel.search}"
												styleClass="ui-button-raised ui-button-success ui-button-flat" />
										</p:column>

										<p:scrollPanel id="scrollPanel_tree"
											style="border:0px;border-radius:0.25rem;height:501.4px;box-shadow: 0 .5rem 1rem rgba(0,0,0,.15)"
											mode="native">
											<p:panelGrid columns="1" layout="grid"
												columnClasses="ui-g-12 ui-md-12 ui-lg-12"
												styleClass="customPanelGrid" contentStyleClass="ui-fluid"
												style="border:0px none; background-color:transparent;"
												rendered="#{registerIncomingMailBean.root.childCount ==0}">
												<p:staticMessage severity="WARN"
													detail="#{interfaceLabel.emptyFolder}" style="width: 100%" />
												<p:graphicImage name="images/folder_empty_icon.png"
													library="smat-ins"></p:graphicImage>
											</p:panelGrid>
											<p:tree id="tree_archiveDocuments"
												value="#{registerIncomingMailBean.root}" highlight="true"
												animate="true" selectionMode="single"
												selection="#{registerIncomingMailBean.selectedNode}"
												widgetVar="treeWidgetVar" var="node" cache="true"
												rendered="#{registerIncomingMailBean.root.childCount !=0}"
												dynamic="true">
												<p:ajax event="expand"
													listener="#{registerIncomingMailBean.onNodeArchExpand}"
													oncomplete="reverseTreeChildExpandedIcon();" />
												<p:ajax event="collapse"
													listener="#{registerIncomingMailBean.onNodeArchCollapse}" />
												<p:ajax event="select" update="@([id$=scrollPanel_docs])"
													listener="#{registerIncomingMailBean.onNodeArchSelect}"
													delay="100" />
												<p:treeNode
													icon="#{node.isDirectory ? 'pi pi-folder':'far fa-file-alt'}">
													<span> <span
														style="color: #F4CA16 !important; font-weight: bolder !important;">(#{node.code})</span>
														#{node.name}
													</span>
													<p:spacer width="6px"></p:spacer>
													<p:commandButton icon="pi pi-plus-circle" ajax="true"
														styleClass="rounded-button ui-button-info ui-button-flat"
														rendered="#{node.isDirectory}"
														oncomplete="PF('addArchiveWidgetVar').show();"
														update=":form:manage-add-archive-content" global="false"
														process="@this" style="vertical-align:middle;"
														action="#{registerIncomingMailBean.addNodeArchive(node)}"></p:commandButton>

													<p:spacer width="6px"></p:spacer>
													<p:commandButton icon="fa fa-file-text-o" ajax="true"
														rendered="#{!node.isDirectory}"
														action="#{registerIncomingMailBean.prepareArchiveDocFiles()}"
														oncomplete="PF('udocumentFileWidgetVar').show();"
														update="@([id$=customDropzone_udocument])" delay="200"
														title="#{interfaceLabel.add} #{interfaceLabel.attachement}"
														styleClass="rounded-button ui-button-help ui-button-flat">
													</p:commandButton>

													<p:spacer width="6px"></p:spacer>
												</p:treeNode>
											</p:tree>

											<p:blockUI block="tree_archiveDocuments"
												trigger="tree_archiveDocuments" widgetVar="blockWidget"
												styleClass="#{app.locale.rtl ? 'block-rtl':'block-ltr'}">
												<i class="pi pi-spin pi-spinner" style="font-size: 3rem"></i>
											</p:blockUI>
										</p:scrollPanel>
									</p:panelGrid>
									<p:panelGrid id="panelGrid_documents" columns="1" layout="grid"
										columnClasses="ui-g-12 ui-md-12 ui-lg-12"
										contentStyleClass="align-items-baseline ui-fluid"
										style="border:0px none; background-color:transparent;">
										<p:column>
											<p:outputLabel value="#{interfaceLabel.theDocumentsIn}"
												style="text-align: center !important;color: #F4CA16;padding: 10px;padding-top:30px;vertical-align: middle;font-size: 1rem;font-style: oblique;font-weight: bolder;">
												<i class="pi pi-ellipsis-h"></i>
											</p:outputLabel>
											<p:commandLink class="mr-4"
												onclick="PF('widgetVar_wizard').loadStep('tab_cabinets');"
												value="#{registerIncomingMailBean.cabinet.name}"
												style="text-align: center !important;color: green;padding: 10px;padding-top:30px;vertical-align: middle;font-size: 1rem;font-style: oblique;font-weight: bolder;">
												<i
													class="#{app.locale.rtl ? 'pi pi-angle-left':'pi pi-angle-right'}"></i>
											</p:commandLink>

											<p:commandLink onclick="PF('widgetVar_wizard').back();"
												class="mr-4"
												value="#{registerIncomingMailBean.cabinetFolder.cabinetDefinition.drawerName}"
												style="text-align: center !important;color: green;padding: 10px;padding-top:30px;vertical-align: middle;font-size: 1rem;font-style: oblique;font-weight: bolder;">
												<i
													class="#{app.locale.rtl ? 'pi pi-angle-left':'pi pi-angle-right'}"></i>
											</p:commandLink>

											<p:outputLabel
												value="#{registerIncomingMailBean.cabinetFolder.name}"
												style="text-align: center !important;color: #F4CA16;padding: 10px;padding-top:30px;vertical-align: middle;font-size: 1.2rem;font-style: oblique;font-weight: bolder;">
												<i
													class="#{app.locale.rtl ? 'pi pi-folder-open':'pi pi-folder-open'}"></i>
											</p:outputLabel>


											<p:commandButton icon="pi pi-search" ajax="true"
												process="@this" title=""
												action="#{registerIncomingMailBean.prepareDocumentForSearch(false)}"
												delay="200" update="@([id$=outputPanel_document])"
												oncomplete="PF('widgetVarDocumentDlg').show();"
												style="#{app.locale.rtl ? 'float:left':'float:right'}"
												styleClass="rounded-button ui-button-raised ui-button-danger ui-button-flat mr-2" />
											<p:commandButton type="button"
												icon="#{app.locale.rtl ? 'pi pi-arrow-right':'pi pi-arrow-left'}"
												style="#{app.locale.rtl ? 'float:left':'float:right'}"
												onclick="PF('widgetVar_wizard').back();"
												styleClass="ui-button-success rounded-button ui-button-raised ui-button-warning ui-button-flat mr-2" />
											<p:commandButton type="button" icon="pi pi-home"
												onclick="PF('widgetVar_wizard').loadStep('tab_cabinets');"
												style="#{app.locale.rtl ? 'float:left':'float:right'}"
												styleClass="ui-button-help rounded-button ui-button-raised  ui-button-flat mr-2" />
										</p:column>
										<p:divider layout="horizontal" type="solid"
											style="margin-top:-32px"></p:divider>

										<p:scrollPanel id="scrollPanel_docs"
											style="border:0px;border-radius:0.25rem;height:501.4px;box-shadow: 0 .5rem 1rem rgba(0,0,0,.15);margin-top:-40px"
											mode="native">
											<p:column>
												<p:outputLabel value="#{interfaceLabel.theDocumentPath}"
													style="text-align: center !important;color: #D32F2F;padding: 10px;font-size: 1rem;font-style: oblique;font-weight: bolder;">
													<i class="pi pi-ellipsis-h"></i>
												</p:outputLabel>


												<c:forEach
													items="#{registerIncomingMailBean.breadcrumbList}"
													var="breadcrumb" varStatus="loop">

													<p:commandLink class="mr-4" value="#{breadcrumb.name}"
														action="#{registerIncomingMailBean.getArchiveDocChildren(breadcrumb.id)}"
														update="@([id$=scrollPanel_docs])"
														style="text-align: center !important;color: black;padding: 5px;font-size: 1rem;font-style: oblique;font-weight: bolder;">
														<i
															class="#{app.locale.rtl ? 'pi pi-angle-left':'pi pi-angle-right'}"></i>
													</p:commandLink>

												</c:forEach>
												<p:commandButton
													actionListener="#{registerIncomingMailBean.addArchiveDoc()}"
													oncomplete="PF('addArchiveWidgetVar').show();"
													update=":form:manage-add-archive-content"
													value="#{interfaceLabel.add} #{interfaceLabel.to}: #{not empty registerIncomingMailBean.selectedArchiveDocument ? registerIncomingMailBean.selectedArchiveDocument.name : interfaceLabel.root}"
													style="#{app.locale.rtl ? 'float:left':'float:right'};margin-top:-5px;width:auto;"
													icon="fas fa-folder-plus"
													title="#{interfaceLabel.addArchive}"
													styleClass="ui-button-raised ui-button-warning ui-button-flat"
													rendered="#{registerIncomingMailBean.renderAddArchDoc()}">

												</p:commandButton>

												<p:commandButton
													actionListener="#{registerIncomingMailBean.prepareArchiveDocFiles()}"
													oncomplete="PF('documentFileWidgetVar').show();"
													update=":form:manage-add-doc-file-content"
													value="#{interfaceLabel.add} #{interfaceLabel.attachement} #{interfaceLabel.to}:  #{registerIncomingMailBean.selectedArchiveDocument.name}"
													style="#{app.locale.rtl ? 'float:left':'float:right'};margin-top:-5px;width:auto;"
													icon="fas fa-file-text"
													title="#{interfaceLabel.add} #{interfaceLabel.files}"
													styleClass="ui-button-raised ui-button-danger ui-button-flat"
													rendered="#{registerIncomingMailBean.renderAddArchiveFile()}">

												</p:commandButton>
											</p:column>
											<p:divider layout="horizontal"></p:divider>
											<p:panelGrid id="panelGrid_files_empty_image" columns="1"
												layout="grid" columnClasses="ui-g-12 ui-md-12 ui-lg-12"
												styleClass="customPanelGrid" contentStyleClass="ui-fluid"
												contentStyle="text-align:center;"
												style="border:0px none; background-color:transparent;"
												rendered="#{empty registerIncomingMailBean.archiveDocumentChildrens and !registerIncomingMailBean.viewDocFiles}">
												<p:staticMessage severity="WARN"
													detail="#{interfaceLabel.noDocumentToView}, #{interfaceLabel.addArchiveInstructions}"
													style="width: 50%" />
												<p:graphicImage name="images/ico_doc_blank.png"
													library="smat-ins"></p:graphicImage>

											</p:panelGrid>
											<pe:remoteCommand name="viewArchiveChildren" process="@form"
												actionListener="#{registerIncomingMailBean.getArchiveDocChildren}"
												update="@([id$=scrollPanel_docs])">
												<pe:methodSignature parameters="java.lang.Long"></pe:methodSignature>
												<pe:methodParam name="archiveDocumentId">
												</pe:methodParam>
											</pe:remoteCommand>
											<pe:remoteCommand name="viewArchiveAttribute" process="@form"
												actionListener="#{registerIncomingMailBean.viewDocumentaAttribute}"
												update="@([id$=scrollPanel_docs])">
												<pe:methodSignature parameters="java.lang.Long"></pe:methodSignature>
												<pe:methodParam name="archiveDocumentId">
												</pe:methodParam>
											</pe:remoteCommand>
											<p:scrollPanel id="dataDocument"
												rendered="#{not empty registerIncomingMailBean.archiveDocumentChildrens and !registerIncomingMailBean.viewDocFiles}"
												style="border:dotted;border-color:#B9CEF2;width: auto; height:90%"
												styleClass="" mode="native">
												<p:panelGrid columns="3" layout="grid"
													columnClasses="ui-g-12 ui-md-6 ui-lg-6,ui-g-12 ui-md-6 ui-lg-1,ui-g-12 ui-md-6 ui-lg-5"
													styleClass="customPanelGrid" contentStyleClass="ui-fluid"
													style="border:0px none; background-color:transparent">
													<p:panelGrid columns="2" layout="flex"
														columnClasses="col-12 md:col-6 lg:col-6, col-12 md:col-6 lg:col-6"
														styleClass="#{app.locale.rtl ? 'grid-text-align-right':'grid-text-align-left'}"
														contentStyleClass="ui-fluid"
														style="border:0px none; background-color:transparent">
														<p:outputLabel value="#{interfaceLabel.name}: "
															style="color: black;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{registerIncomingMailBean.selectedArchiveDocument.name}"
															style="color: #F4CA16;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel value="#{interfaceLabel.description}: "
															style="color: black;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{registerIncomingMailBean.selectedArchiveDocument.description}"
															style="text-align: center !important;color: #F4CA16;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{interfaceLabel.archiveDocumentType}: "
															style="color: black;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{registerIncomingMailBean.selectedArchiveDocument.archiveDocumentType.name}"
															style="color: #F4CA16;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{interfaceLabel.rootOrganization}: "
															style="color: black;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{registerIncomingMailBean.selectedArchiveDocument.organizationByRootOrganization.name}"
															style="color: #F4CA16;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel value="#{interfaceLabel.organization}: "
															style="color: black;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{registerIncomingMailBean.selectedArchiveDocument.organizationByOrganization.name}"
															style="color: #F4CA16;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel value="#{interfaceLabel.divan}: "
															style="color: black;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{registerIncomingMailBean.selectedArchiveDocument.organizationByDivan.name}"
															style="color: #F4CA16;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel value="#{interfaceLabel.side}: "
															style="color: black;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{registerIncomingMailBean.selectedArchiveDocument.fromEntity}"
															style="color: #F4CA16;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel value="#{interfaceLabel.subject}: "
															style="color: black;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{registerIncomingMailBean.selectedArchiveDocument.subject}"
															style="color: #F4CA16;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel value="#{interfaceLabel.year}: "
															style="color: black;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{registerIncomingMailBean.selectedArchiveDocument.year}"
															style="color: #F4CA16;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel value="#{interfaceLabel.language}: "
															style="color: black;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
														<p:outputLabel
															value="#{registerIncomingMailBean.selectedArchiveDocument.lang}"
															style="color: #F4CA16;font-size: 1rem;font-style: oblique;font-weight: bolder;"></p:outputLabel>
													</p:panelGrid>
													<p:divider layout="vertical" type="dashed"></p:divider>
													<p:scrollPanel id="document_folders"
														style="border:0px;width: auto; height:100%" styleClass=""
														mode="native">
														<script type="text/javascript">
									    $(function() {
											   
											   $(".imgIcon").hover(function() {
												 
												   $(this).closest(".imgIcon").css("z-index", 9999);
												   $(this).css('opacity', '0.7');
												   $(this).css('cursor', 'pointer');
												    $(this).transition({ scale: [1.3, 1.3] });
											   }, function() {
												    $(this).closest(".imgIcon").css("z-index", 0);
												    $(this).css('opacity', '1');
												    $(this).css('cursor', 'default');
												    $(this).transition({ scale: [1, 1] });
												});
												
											});
									   
									    </script>
														<div class="ui-fluid formgrid grid">
															<c:forEach var="archiveDocumentChildVar"
																items="#{registerIncomingMailBean.archiveDocumentChildrens}">
																<div class="field col-12 md:col-6"
																	style="display: flex;">

																	<p:commandButton icon="pi pi-plus"
																		rendered="#{!registerIncomingMailBean.checkIfDocInAttachementList(archiveDocumentChildVar)}"
																		styleClass=" ui-button-raised ui-button-success ui-button-flat"
																		style="height:22px;width:22px;align-self: center;flex: inherit;"
																		title="#{interfaceLabel.addToMessageAttachement}"
																		action="#{registerIncomingMailBean.addToMailAttachementList(archiveDocumentChildVar)}"
																		update="@([id$=document_folders],[id$=dataScroller_linked_documents],[id$=badge_archive_count],[id$=badge_archive_size],[id$=scrollPanel_badges])" />
																	<p:commandButton icon="pi pi-minus"
																		rendered="#{registerIncomingMailBean.checkIfDocInAttachementList(archiveDocumentChildVar)}"
																		styleClass=" ui-button-raised ui-button-danger ui-button-flat"
																		style="#{app.locale.rtl ? 'margin-left:5px' : 'margin-right:5px'};height:22px;width:22px;align-self: center;flex: inherit;"
																		title="#{interfaceLabel.deleteFromMessageAttachement}"
																		action="#{registerIncomingMailBean.removeFromMailAttachementList(archiveDocumentChildVar)}"
																		update="@([id$=document_folders],[id$=dataScroller_linked_documents],[id$=badge_archive_count],[id$=badge_archive_size],[id$=scrollPanel_badges])" />
																	<p:graphicImage library="smat-ins"
																		name="images/5290982.png"
																		rendered="#{registerIncomingMailBean.checkIfDocInAttachementList(archiveDocumentChildVar)}"
																		width="30" height="30"
																		style="#{app.locale.rtl ? 'margin-left:-35px' : 'margin-right:-35px'};display: flex;flex: inherit;z-index: 1000;"></p:graphicImage>
																	<p:graphicImage
																		id="archive_img_#{archiveDocumentChildVar.id}"
																		library="smat-ins" styleClass="doc-active imgIcon"
																		onclick="viewArchiveAttribute(#{archiveDocumentChildVar.id});"
																		ondblclick="viewArchiveChildren(#{archiveDocumentChildVar.id});"
																		title="#{archiveDocumentChildVar.name}"
																		style="display: flex;margin: 5px;text-align: center !important;"
																		name="#{archiveDocumentChildVar.isDirectory ? 'images/folder-img.png' : 'images/icone-fichier-document-jaune.png'}"
																		width="64" height="64"></p:graphicImage>

																	<div
																		style="color: green; font-weight: bolder; display: flex; align-self: flex-end; margin-inline: -80px; margin-top: 70px">(#{archiveDocumentChildVar.code})</div>
																</div>
																<p:contextMenu
																	for="archive_img_#{archiveDocumentChildVar.id}">
																	<p:menuitem value="#{interfaceLabel.viewContent}"
																		icon="pi pi-search"
																		onclick="viewArchiveChildren(#{archiveDocumentChildVar.id});"></p:menuitem>
																	<p:menuitem value="#{interfaceLabel.viewAttribute}"
																		icon="pi pi-check-square"
																		onclick="viewArchiveAttribute(#{archiveDocumentChildVar.id});"></p:menuitem>
																</p:contextMenu>
															</c:forEach>
														</div>
													</p:scrollPanel>
												</p:panelGrid>
											</p:scrollPanel>
											<p:scrollPanel id="scrollPanel_doc_files"
												rendered="#{registerIncomingMailBean.viewDocFiles}"
												style="border:dotted;border-color:#B9CEF2;width: auto; height:100%;"
												styleClass="" mode="native">

												<script>
    //<![CDATA[
    function start() {
        PF('statusDialog').show();
    }

    function stop() {
        PF('statusDialog').hide();
    }
    //]]>
</script>

												<p:speedDial radius="120"
													direction="#{app.locale.rtl ? 'down-left':'down-right'}"
													type="quarter-circle" transitionDelay="80"
													showIcon="pi pi-bars" hideIcon="pi pi-times"
													style="margin:-.5rem;"
													buttonStyleClass="ui-button-raised  ui-button-danger">
													<p:menuitem icon="pi pi-cloud-upload"
														actionListener="#{registerIncomingMailBean.prepareArchiveDocFiles()}"
														title="#{interfaceLabel.addFileToCurrentArchive}"
														oncomplete="PF('documentFileWidgetVar').show();"
														update="form:manage-add-doc-file-content">

													</p:menuitem>
													<p:menuitem icon="pi pi-cloud-download"
														title="#{interfaceLabel.downloadAll}"
														actionListener="#{registerIncomingMailBean.ZipDocumentForDownload()}"
														oncomplete="document.getElementById('form:commandButton_zip_download').click() ; return false;" />
													<p:menuitem icon="pi pi-trash"
														title="#{interfaceLabel.deleteAll}"
														actionListener="#{registerIncomingMailBean.deleteAllDocInFolder()}"
														update="@([id$=scrollPanel_doc_files],[id$=messages])">
														<p:confirm header="#{interfaceLabel.confirmation}"
															message="#{interfaceLabel.wouldYouContinueAndDeleteAllFiles}"
															icon="pi pi-exclamation-triangle" />
													</p:menuitem>

												</p:speedDial>
												<p:commandButton id="commandButton_zip_download"
													value="Download" ajax="true" update="@([id$=messages])"
													onclick="PrimeFaces.monitorDownload(start, stop);"
													style="display:none;" icon="pi pi-arrow-down"
													styleClass="mr-2">
													<p:fileDownload value="#{zipDocumentDownloadBean.file}" />
												</p:commandButton>

												<div style="position: relative; height: 20px;"></div>
												<div class="ui-fluid formgrid grid">
													<c:forEach var="archiveDocumentFileVar"
														items="#{registerIncomingMailBean.archiveDocumentFiles}">
														<div class="field col-12 md:col-2"
															style="text-align: center;">
															<p:graphicImage library="smat-ins"
																title="#{archiveDocumentFileVar.name}"
																style="text-align: center !important;"
																name="#{registerIncomingMailBean.docImgIconByDocEx(archiveDocumentFileVar.extension)}"
																width="64" height="64"></p:graphicImage>

															<div style="color: green; font-weight: bolder;">(#{archiveDocumentFileVar.code})</div>
															<p:commandLink id="commandLink_download"
																actionListener="#{registerIncomingMailBean.prepareDocument(archiveDocumentFileVar)}"
																oncomplete="document.getElementById('form:commandButton_download').click() ; return false;"
																title="#{interfaceLabel.download}">
																<i class="pi pi-cloud-download" style="font-size: 20px;"><span>
																</span> </i>
															</p:commandLink>
															<p:spacer width="10px"></p:spacer>
															<p:commandLink
																actionListener="#{registerIncomingMailBean.prepareDocumentViewer(archiveDocumentFileVar)}"
																rendered="#{registerIncomingMailBean.extensionIn(archiveDocumentFileVar)}"
																title="#{interfaceLabel.view}"
																onstart="PF('statusDialog').show();"
																oncomplete="PF('statusDialog').hide();">
																<i class="pi pi-search-plus"
																	style="font-size: 20px; color: #FFC757;"><span>
																</span> </i>
															</p:commandLink>
															<p:spacer width="10px"></p:spacer>
															<p:commandLink title="#{interfaceLabel.delete}"
																actionListener="#{registerIncomingMailBean.deleteArchiveDocumentFile(archiveDocumentFileVar)}"
																update="@([id$=scrollPanel_doc_files],[id$=messages])">

																<i class="pi pi-minus-circle"
																	style="font-size: 20px; color: red;"><span>
																</span> </i>
																<p:confirm header="#{interfaceLabel.confirmation}"
																	message="#{interfaceLabel.wouldYouContinueAndDeleteFile}"
																	icon="pi pi-exclamation-triangle" />
															</p:commandLink>
														</div>
													</c:forEach>

												</div>
											</p:scrollPanel>
										</p:scrollPanel>

									</p:panelGrid>
								</p:panelGrid>
							</p:tab>
						</p:wizard>
					</p:tab>
					<p:tab title="#{interfaceLabel.linkedDocument}">

						<p:dataScroller id="dataScroller_linked_documents"
							widgetVar="dataScrollerlinkedDocWidgetVar"
							style="border:0px none; background-color:transparent;box-sizing: border-box;box-shadow: 0 .5rem 1rem rgba(0,0,0,.15) !important;"
							value="#{registerIncomingMailBean.mailAttachementList}"
							var="archiveDoc" chunkSize="10" mode="inline" scrollHeight="500">
							<f:facet name="header">
                                                            #{interfaceLabel.theTotalNumberOfDocument}: <span
									style="color: #FFC757; font-weight: bolder; font-style: italic;">#{registerIncomingMailBean.mailAttachementList.size()}</span>

							</f:facet>

							<div class="product">
								<div class="product-list-item p-5"
									style="padding: .5rem !important;">
									<p:graphicImage library="smat-ins"
										title="#{archiveDoc.name}"
										style="text-align: center !important;position: relative;overflow-y:scroll;overflow-x:scroll;top: 0px;left: -20px;;width: 70px;height:70px"
										name="#{archiveDoc.isDirectory ? 'images/folder-icon-f.png' : 'images/icone-fichier-document-jaune.png'}"></p:graphicImage>
									<div class="product-list-detail"
										style="#{app.locale.locale eq 'en'? 'margin-left: 5rem !important;' : 'margin-right: 5rem !important;'}">
										<div class="product-name">#{archiveDoc.name}</div>
										<div class="product-description">#{archiveDoc.description}</div>

										<span
											style="#{app.locale.locale eq 'en'? 'margin-left:.5rem !important' : 'margin-right:.5rem !important'}"
											class="pi #{app.locale.locale eq 'en'? 'pi-angle-right':'pi-angle-left'} product-category">
											#{interfaceLabel.theTotalNumberOfContentFiles}:
											#{archiveDoc.archiveDocumentFiles.size()}</span>
									</div>
									<div class="product-list-action">

										<p:commandButton icon="pi pi-trash"
											value="#{interfaceLabel.delete}"
											action="#{registerIncomingMailBean.removeFromMailAttachementList(archiveDoc)}"
											update="@([id$=dataScroller_linked_documents],[id$=document_folders],[id$=badge_archive_count],[id$=badge_archive_size],[id$=scrollPanel_badges])"
											styleClass="rounded-button ui-button-danger" />

									</div>
								</div>
							</div>
							<p:divider layout="horizontal" type="dashed" style=""
								styleClass="ui-custom-divider"></p:divider>

						</p:dataScroller>
					</p:tab>
				</p:tabView>
			</p:sidebar>
			<p:sidebar blockScroll="true" dynamic="true"
				style="width:65%;overflow: auto;" widgetVar="sidebar_linked_mail"
				position="#{app.locale.locale eq 'en'? 'left' : 'right'} ">
				<p:divider align="center" type="dashed">
					<div class="inline-flex align-items-center">
						<p:badge id="badge_linked_mail_count"
							value="#{registerIncomingMailBean.linkedCorrespondenceList.size()}"
							severity="info">
							<i class="fa fa-link" style="font-size: 2rem; color: #0287CF"></i>
						</p:badge>
						<p:spacer width="5"></p:spacer>
						<p:outputLabel value="#{interfaceLabel.linkedMail}"
							style="color:#0287CF;font-weight: bold"></p:outputLabel>
					</div>
				</p:divider>
				<p:panelGrid columns="3" layout="grid"
					columnClasses="ui-g-2 ui-md-2 ui-lg-1,ui-g-2 ui-md-2 ui-lg-1,ui-g-8 ui-md-8 ui-lg-10"
					styleClass="customPanelGrid" contentStyleClass="ui-fluid"
					style="border:0px none; background-color:transparent">
					<p:outputLabel value="#{interfaceLabel.search}"
						style="color:#0287CF;font-weight:bolder;font-style:italic;"></p:outputLabel>
					<p:commandButton
						styleClass="rounded-button ui-button-danger ui-button-outlined ui-button-raised ui-button-flat"
						style="width:30px;height:30px;margin-top:-15px;" value=""
						icon="pi pi-search"
						action="#{registerIncomingMailBean.prepareSearch()}"
						oncomplete="PF('widgetVarCorrespondenceDlg').show();"
						update="@([id$=outputPanel_Correspondence])"></p:commandButton>
				</p:panelGrid>
				<p:divider layout="horizontal" type="dashed" style=""
					styleClass="ui-custom-divider"></p:divider>
				<p:dataScroller id="dataScroller_linked_correspondence"
					widgetVar="dataScrollerlinkedCorrespondence"
					style="border:0px none; background-color:transparent;box-sizing: border-box;box-shadow: 0 .5rem 1rem rgba(0,0,0,.15) !important;"
					value="#{registerIncomingMailBean.linkedCorrespondenceList}"
					var="linkedCorrespondenceVar" chunkSize="10" mode="inline"
					scrollHeight="500">
					<f:facet name="header">
                            #{interfaceLabel.theTotalNumberOfDocument}: <span
							style="color: #FFC757; font-weight: bolder; font-style: italic;">#{registerIncomingMailBean.linkedCorrespondenceList.size()}</span>

					</f:facet>

					<div class="product">
						<div class="product-list-item p-5"
							style="padding: .5rem !important;">
							<p:graphicImage library="smat-ins"
								title="#{linkedCorrespondenceVar.title}"
								style="text-align: center !important;position: relative;overflow-y:scroll;overflow-x:scroll;top: 0px;left: -20px;;width: 70px;height:70px"
								name="images/linked-mail.png"></p:graphicImage>
							<div class="product-list-detail"
								style="#{app.locale.locale eq 'en'? 'margin-left: 5rem !important;' : 'margin-right: 5rem !important;'}">
								<div class="product-name">#{linkedCorrespondenceVar.title}</div>
								<div class="product-description">#{linkedCorrespondenceVar.title}</div>

								<span
									style="#{app.locale.locale eq 'en'? 'margin-left:.5rem !important' : 'margin-right:.5rem !important'}"
									class="pi #{app.locale.locale eq 'en'? 'pi-angle-right':'pi-angle-left'} product-category">
									#{interfaceLabel.boxType}:
									#{linkedCorrespondenceVar.boxType.name}</span>
							</div>
							<div class="product-list-action">

								<p:commandButton icon="pi pi-trash"
									value="#{interfaceLabel.delete}"
									action="#{registerIncomingMailBean.removeFromLinkedMailList(linkedCorrespondenceVar)}"
									update="@([id$=dataScroller_linked_correspondence],[id$=badge_linked_mail_count],[id$=scrollPanel_badges])"
									styleClass="rounded-button ui-button-danger" />

							</div>
						</div>
					</div>
					<p:divider layout="horizontal" type="dashed" style=""
						styleClass="ui-custom-divider"></p:divider>

				</p:dataScroller>
			</p:sidebar>

			<p:commandButton id="commandButton_download" value="Download"
				ajax="true" update="@([id$=messages])"
				onclick="PrimeFaces.monitorDownload(start, stop);"
				style="display:none;" icon="pi pi-arrow-down" styleClass="mr-2">
				<p:fileDownload value="#{documentDownloadBean.file}" />
			</p:commandButton>
			<p:dialog modal="true" widgetVar="statusDialog"
				header="#{interfaceLabel.processing}" draggable="false"
				closable="false" resizable="false">
				<i class="pi pi-spinner pi-spin" style="font-size: 3rem"></i>
			</p:dialog>
			<p:dialog header="#{interfaceLabel.viewer}" showEffect="fade"
				widgetVar="viewerWidgetVar" closable="true" blockScroll="true"
				dynamic="true" cache="true" fitViewport="true" showHeader="true"
				contentWidth="100%" contentHeight="100%" resizeObserver="true"
				resizeObserverCenter="true" styleClass="max-w-screen"
				iframeStyleClass="max-w-screen" responsive="true" width="92%"
				height="100%" maximizable="true" minimizable="true">

				<p:outputPanel id="manage-viewer-content" class="ui-fluid"
					layout="inline" style="width:100%;height:100%">
					<p:scrollPanel
						style="border:dotted;border-color:#B9CEF2;width: auto; height:100%"
						styleClass="" mode="native">
						<pe:documentViewer height="550" zoom="page-width"
							value="#{pdfViewerBean.file}"></pe:documentViewer>
					</p:scrollPanel>
				</p:outputPanel>
			</p:dialog>
			<p:dialog header="#{interfaceLabel.viewer}" showEffect="fade"
				widgetVar="photoViewerWidgetVar" closable="true" blockScroll="true"
				dynamic="true" cache="true" fitViewport="true" showHeader="true"
				contentWidth="100%" contentHeight="100%" resizeObserver="true"
				resizeObserverCenter="true" styleClass="max-w-screen"
				iframeStyleClass="max-w-screen" responsive="true" width="92%"
				height="550" maximizable="true" minimizable="true">

				<p:outputPanel id="manage-photo-viewer-content" class="ui-fluid"
					layout="inline" style="width:100%;height:100%">
					<p:scrollPanel
						style="border:dotted;border-color:#B9CEF2;width: auto; height:100%"
						styleClass="" mode="native">
						<p:graphicImage value="#{photoViewerBean.file}" stream="true"
							cache="false" style="width: 100%; display: block" />
					</p:scrollPanel>
				</p:outputPanel>
			</p:dialog>

			<p:dialog header="#{interfaceLabel.viewer}" showEffect="fade"
				widgetVar="convertedDocWidgetVar" closable="true" blockScroll="true"
				dynamic="true" cache="true" fitViewport="true" showHeader="true"
				contentWidth="100%" contentHeight="100%" resizeObserver="true"
				resizeObserverCenter="true" styleClass="max-w-screen"
				iframeStyleClass="max-w-screen" responsive="true" width="92%"
				height="550" maximizable="true" minimizable="true">

				<p:outputPanel id="manage-doc-viewer-content" class="ui-fluid"
					layout="inline" style="width:100%;height:100%">
					<p:scrollPanel
						style="border:dotted;border-color:#B9CEF2;width: auto; height:100%"
						styleClass="" mode="native">
						<pe:documentViewer height="550" zoom="page-width"
							value="#{documentConvertForViewBean.file}"></pe:documentViewer>
					</p:scrollPanel>
				</p:outputPanel>
			</p:dialog>

			<p:dialog header="#{interfaceLabel.add} #{interfaceLabel.folder}"
				showEffect="fade" widgetVar="addFolderDialog" closable="true"
				blockScroll="true" dynamic="true" cache="true" fitViewport="75%"
				showHeader="true" responsive="true" width="45%" maximizable="true"
				minimizable="true">
				<p:divider layout="horizontal" type="dashed" align="center"></p:divider>
				<p:outputPanel id="add-folder-content" class="ui-fluid"
					layout="inline" style="width:100%;height:75%">
					<p:scrollPanel
						style="border:dashed;border-color:#B9CEF2;width: auto; height: 85%"
						mode="native">
						<p:panelGrid columns="2" layout="grid"
							columnClasses="ui-g-12 ui-md-12 ui-lg-4,ui-g-12 ui-md-12 ui-lg-8"
							contentStyleClass="align-items-baseline ui-fluid"
							style="border:0px none; background-color:transparent;">
							<p:outputLabel value="#{interfaceLabel.arabicName}"
								style="font-weight:bold"></p:outputLabel>
							<p:inputText
								value="#{registerIncomingMailBean.cabinetFolder.arabicName}"></p:inputText>
							<p:outputLabel value="#{interfaceLabel.englishName}"
								style="font-weight:bold"></p:outputLabel>
							<p:inputText
								value="#{registerIncomingMailBean.cabinetFolder.englishName}"></p:inputText>
							<p:outputLabel value="#{interfaceLabel.englishDescription}"
								style="font-weight:bold"></p:outputLabel>
							<p:inputTextarea
								value="#{registerIncomingMailBean.cabinetFolder.englishDescription}"
								style="color:black;font-weight:bolder;background-color:#DEEFFF;"></p:inputTextarea>
							<p:outputLabel value="#{interfaceLabel.arabicDescription}"
								style="font-weight:bold"></p:outputLabel>
							<p:inputTextarea
								value="#{registerIncomingMailBean.cabinetFolder.arabicDescription}"
								style="color:black;font-weight:bolder;background-color:#DEEFFF;"></p:inputTextarea>
							<p:outputLabel value="#{interfaceLabel.code}"
								style="font-weight:bold"></p:outputLabel>
							<p:inputText
								value="#{registerIncomingMailBean.cabinetFolder.code}"
								disabled="true" readonly="true"
								style="color:black;font-weight:bolder;background-color:#FFF0F5;"></p:inputText>
							<f:facet name="footer">
								<p:divider type="dashed"></p:divider>
								<p:panelGrid columns="3"
									columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-6"
									layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
									style="border:0px none; background-color:transparent;">
									<p:commandButton value="#{interfaceLabel.add}"
										icon="pi pi-plus-circle"
										styleClass="ui-button-raised ui-button-success ui-button-flat"
										actionListener="#{registerIncomingMailBean.saveCabinetFolder()}"
										update="@([id$=add-folder-content],[id$=dv-folders])"
										process="add-folder-content @this" />
									<p:commandButton value="#{interfaceLabel.cancel}"
										icon="pi pi-times-circle"
										onclick="PF('addFolderDialog').hide()"
										styleClass="ui-button-raised ui-button-warning ui-button-flat" />
								</p:panelGrid>
							</f:facet>

						</p:panelGrid>

					</p:scrollPanel>
				</p:outputPanel>
			</p:dialog>

			<p:dialog
				header="#{interfaceLabel.search} #{interfaceLabel.for} #{interfaceLabel.correspondence}"
				widgetVar="widgetVarCorrespondenceDlg" closable="true"
				dynamic="true" cache="true" fitViewport="true" showHeader="true"
				contentWidth="100%" contentHeight="100%" resizeObserver="true"
				resizeObserverCenter="true" styleClass="max-w-screen"
				position="center" iframeStyleClass="max-w-screen"
				style="border-radius: 10px;top:0px !important;bottom: 0px !important;"
				onShow="PF('widgetVarCorrespondenceDlg').jq.css('height',$(window).height()*98/100);"
				responsive="true" width="76%" height="100%" maximizable="true"
				minimizable="true">
				<script type="text/javascript">
				                  $(function (){
				                   PF('widgetVarCorrespondenceDlg').jq.css('height',$(window).height()*98/100);
              	      
                                  });

				                 
				                </script>
				<p:divider layout="horizontal" type="dashed"></p:divider>
				<p:outputPanel id="outputPanel_Correspondence"
					style="width:100%;height:89%">

					<p:panelGrid id="panelGrid_filters" columns="8" layout="flex"
						columnClasses="col-6 md:col-2 xl:col-2, col-6 md:col-2 xl:col-2,col-6 md:col-2 xl:col-2, col-6 md:col-2 xl:col-2,col-6 md:col-2 xl:col-2, col-6 md:col-2 xl:col-2"
						contentStyleClass="align-items-baseline ui-fluid"
						style="border:0px none; background-color:transparent;">
						<p:outputLabel value="#{interfaceLabel.boxType}"></p:outputLabel>
						<p:selectOneMenu
							style="background-color:#F9F9FB;font-weight:bolder;font-style:italic;"
							value="#{registerIncomingMailBean.boxType}"
							converter="omnifaces.SelectItemsIndexConverter">
							<f:selectItems itemLabel="#{boxTypeVar.name} "
								itemValue="#{boxTypeVar}" var="boxTypeVar"
								value="#{registerIncomingMailBean.boxTypes}" />
							<p:ajax update="@([id$=panelGrid_filters])"></p:ajax>
						</p:selectOneMenu>
						<p:column></p:column>
						<p:column></p:column>
						<p:column></p:column>
						<p:column></p:column>
						<p:outputLabel value="#{interfaceLabel.correspondenceNumber}"></p:outputLabel>
						<p:inputText
							value="#{registerIncomingMailBean.correspondenceSearch.seq}"></p:inputText>
						<p:outputLabel value="#{interfaceLabel.correspondenceDate}"></p:outputLabel>
						<p:datePicker
							value="#{registerIncomingMailBean.correspondenceSearch.correspondenceDate}"></p:datePicker>
						<p:column></p:column>
						<p:column></p:column>

						<p:outputLabel
							style="color:black;font-weight:bolder;font-style:italic;"
							value="#{interfaceLabel.side}" />
						<p:inputText
							disabled="#{registerIncomingMailBean.boxType.enCode eq 'OUT'}"
							style="background-color:#EEF7FE;color:black;font-weight:bolder;font-style:italic;"
							value="#{registerIncomingMailBean.correspondenceSearch.fromEntity}"></p:inputText>
						<p:outputLabel
							style="color:black;font-weight:bolder;font-style:italic;"
							value="#{interfaceLabel.theirNumber}" />
						<p:inputText
							disabled="#{registerIncomingMailBean.boxType.enCode eq 'OUT'}"
							style="background-color:#EEF7FE;color:black;font-weight:bolder;font-style:italic;"
							value="#{registerIncomingMailBean.correspondenceSearch.fromNumber}"></p:inputText>
						<p:outputLabel
							style="color:black;font-weight:bolder;font-style:italic;"
							value="#{interfaceLabel.theirDate}" />
						<p:datePicker
							disabled="#{registerIncomingMailBean.boxType.enCode eq 'OUT'}"
							pattern="#{app.locale.rtl ? 'yyyy/MM/dd':'dd/MM/yyyy'}"
							inputStyle="background-color:#EEF7FE;color:black;font-weight:bolder;font-style:italic;"
							value="#{registerIncomingMailBean.correspondenceSearch.fromDate}"></p:datePicker>

					</p:panelGrid>
					<p:panelGrid columns="2" layout="flex"
						columnClasses="col-12 md:col-2 xl:col-1, col-12 md:col-2 xl:col-1"
						contentStyleClass="align-items-baseline ui-fluid"
						style="border:0px none; background-color:transparent;">
						<p:commandButton value="#{interfaceLabel.search}"
							onstart="PF('waitingDialogWidgetVar').show();"
							onsuccess="PF('waitingDialogWidgetVar').hide();"
							icon="pi pi-search" action="#{registerIncomingMailBean.search()}"
							update="@([id$=dt-correspondence])"
							styleClass="rounded-button ui-button-success ui-button-raised ui-button-flat"
							style="#{app.locale.locale eq 'en'? 'margin-right:.5rem' : 'margin-left:.5rem'} ">

						</p:commandButton>
						<p:commandButton value="#{interfaceLabel.close}"
							icon="pi pi-times-circle"
							styleClass="rounded-button ui-button-danger ui-button-raised ui-button-flat"
							oncomplete="PF('widgetVarCorrespondenceDlg').hide();">

						</p:commandButton>
					</p:panelGrid>
					<p:divider layout="horizontal" type="dashed"></p:divider>
					<p:dataTable id="dt-correspondence" widgetVar="dtCorrespondence"
						var="correspondenceVar" multiViewState="true"
						value="#{registerIncomingMailBean.correspondencesSearchList}"
						reflow="true" rowKey="#{correspondenceVar.id}" paginator="true"
						rows="5" emptyMessage="#{interfaceLabel.noRecordsFound}"
						globalFilterOnly="true" paginatorPosition="bottom">
						<f:facet name="header">
							<div class="flex align-items-center justify-content-between">
								<h:outputText value="#{interfaceLabel.search} : " />
								<p:inputText id="globalFilter"
									onkeyup="PF('dtCorrespondence').filter()" style="width:auto"
									placeholder="#{interfaceLabel.enterKeyword}" />
							</div>
						</f:facet>


						<p:column headerText="#{interfaceLabel.creatorUser}"
							sortBy="#{correspondenceVar.sysUserByCreatorSysUser.displayName}"
							filterBy="#{correspondenceVar.sysUserByCreatorSysUser.displayName}"
							filterMatchMode="contains">
							<h:outputText
								value=" #{correspondenceVar.sysUserByCreatorSysUser.displayName}"
								style="font-weight:bolder;font-style:italic;color:#2195F2;" />
						</p:column>
						<p:column headerText="#{interfaceLabel.number}"
							sortBy="#{correspondenceVar.correspondenceSeq}"
							filterBy="#{correspondenceVar.correspondenceSeq}"
							filterMatchMode="contains">
							<h:outputText value="#{correspondenceVar.correspondenceSeq}"
								style="font-weight:bolder;font-style:italic;color:green;" />
						</p:column>
						<p:column headerText="#{interfaceLabel.divan}"
							sortBy="#{correspondenceVar.organizationByDivan.name}"
							filterBy="#{correspondenceVar.organizationByDivan.name}"
							filterMatchMode="contains">
							<h:outputText
								value=" #{correspondenceVar.organizationByDivan.name} "
								style="font-weight:bolder;font-style:italic;color:black;" />
						</p:column>
						<p:column headerText="#{interfaceLabel.year}"
							sortBy="#{correspondenceVar.year}"
							filterBy="#{correspondenceVar.year}" filterMatchMode="contains">
							<h:outputText value=" #{correspondenceVar.year} "
								style="font-weight:bolder;font-style:italic;color:black;" />
						</p:column>
						<p:column headerText="#{interfaceLabel.creatorDate}"
							sortBy="#{correspondenceVar.getLocalDatePattern(correspondenceVar.createdDate)}"
							filterBy="#{correspondenceVar.getLocalDatePattern(correspondenceVar.createdDate)}"
							filterMatchMode="contains">
							<h:outputText
								value="#{correspondenceVar.getLocalDatePattern(correspondenceVar.createdDate)}"
								style="font-weight:bolder;font-style:italic;color:#F07427;">

							</h:outputText>
						</p:column>
						<p:column width="80px">
							<p:commandButton title="#{interfaceLabel.linkCorrespondence}"
								icon="pi pi-paperclip"
								action="#{registerIncomingMailBean.addLinkedCorrespondence(correspondenceVar)}"
								update="@([id$=dataScroller_linked_correspondence],[id$=badge_linked_mail_count],[id$=badge_linked_mail_size],[id$=scrollPanel_badges])"
								styleClass="rounded-button ui-button-danger ui-button-outlined">
							</p:commandButton>
						</p:column>
					</p:dataTable>

				</p:outputPanel>
			</p:dialog>

			<p:dialog id="dialog_search" header="#{interfaceLabel.search} "
				showEffect="fade" widgetVar="widgetVarDocumentDlg" closable="true"
				dynamic="true" cache="true" fitViewport="true" showHeader="true"
				contentWidth="100%" contentHeight="100%" resizeObserver="true"
				resizeObserverCenter="true" styleClass="max-w-screen"
				iframeStyleClass="max-w-screen"
				onShow="PF('tabViewWidgetVar').select(0);PF('widgetVarDocumentDlg').jq.css('height',$(window).height()*98/100);"
				responsive="true" width="94%" height="100%" maximizable="true"
				minimizable="true">
				<script type="text/javascript">
				                  $(function (){
				                   PF('tabViewWidgetVar').select(0);
              	                   PF('widgetVarDocumentDlg').jq.css('height',$(window).height()*98/100);
              	      
                                  });

				                 
				                </script>
				<style>
.ui-diagram-element {
	border: 0.1em dotted #E5E4E2;
	background-color: #EFEEEC;
	width: 12em;
	height: 14em;
	text-align: center;
	box-shadow: 0 5px 10px rgba(0, 0, 0, 0.8);
	user-select: none;
}

.ui-diagram-element:hover {
	background-color: #C7C6C4;
}
</style>

				<p:outputPanel id="outputPanel_document" style="width:100%">
					<p:outputLabel
						value="#{interfaceLabel.search} #{not empty registerIncomingMailBean.selectedArchiveDocument ? interfaceLabel.inDocument : interfaceLabel.inFolder} #{not empty registerIncomingMailBean.selectedArchiveDocument ? registerIncomingMailBean.selectedArchiveDocument.name : registerIncomingMailBean.cabinetFolder.name}"
						style="background-color:#D9ECF4;color:black;font-weight:bolder;font-style:italic;"></p:outputLabel>
					<p:divider layout="horizontal" type="dashed"></p:divider>
					<p:tabView id="tabView_search" dynamic="true" activeIndex="0"
						tabindex="0" widgetVar="tabViewWidgetVar">
						<p:tab title="#{interfaceLabel.searchInDocumentAttributes}">
							<p:scrollPanel id="scrollPanel_searchInAttributes"
								style="border:dotted;border-color:#B9CEF2;width: auto; height:89%"
								styleClass="" mode="native">
								<p:panelGrid columns="4" layout="flex"
									columnClasses="col-12 md:col-2 xl:col-2, col-12 md:col-4 xl:col-3,col-12 md:col-2 xl:col-2, col-12 md:col-4 xl:col-3"
									contentStyleClass="align-items-baseline ui-fluid"
									style="border:0px none; background-color:transparent;">
									<p:outputLabel for="@next"
										style="color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.arabicName}</p:outputLabel>
									<p:inputText
										value="#{registerIncomingMailBean.archiveDocument.arabicName}"
										style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputText>
									<p:outputLabel for="@next"
										style="color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.englishName}</p:outputLabel>
									<p:inputText
										value="#{registerIncomingMailBean.archiveDocument.englishName}"
										style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputText>
								</p:panelGrid>
								<p:panelGrid columns="2" layout="flex"
									columnClasses="col-12 md:col-2 xl:col-2, col-12 md:col-10 xl:col-8"
									contentStyleClass="align-items-baseline ui-fluid"
									style="border:0px none; background-color:transparent;">
									<p:outputLabel for="@next"
										style="color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.description}</p:outputLabel>
									<p:inputTextarea rows="3"
										value="#{registerIncomingMailBean.archiveDocument.description}"
										style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputTextarea>

								</p:panelGrid>
								<p:panelGrid columns="3"
									columnClasses="ui-g-12 ui-md-12 ui-lg-2,ui-g-12 ui-md-12 ui-lg-7, ui-g-12 ui-md-12 ui-lg-1"
									layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
									style="border:0px none; background-color:transparent;">
									<p:outputLabel for="@next"
										style="color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.archiveDocumentType}</p:outputLabel>
									<p:selectOneMenu
										value="#{registerIncomingMailBean.archiveDocument.archiveDocumentType}"
										converter="omnifaces.SelectItemsIndexConverter"
										style="background-color:#FFF9E9;color:black;font-weight:bolder;font-style:italic;">
										<f:selectItem itemLabel="#{interfaceLabel.choose}"
											itemValue="" noSelectionOption="true" />
										<f:selectItems itemLabel="#{archiveDocumentTypeVar.name}"
											itemValue="#{archiveDocumentTypeVar}"
											var="archiveDocumentTypeVar"
											value="#{registerIncomingMailBean.archiveDocumentTypes}" />
									</p:selectOneMenu>
									<p:column></p:column>
									<p:outputLabel for="@next">#{interfaceLabel.organization}</p:outputLabel>
									<p:inputText id="inputText_organization" style="color:blue;"
										readonly="true" disabled="true"
										value="#{registerIncomingMailBean.archiveDocument.organizationByOrganization}"></p:inputText>
									<p:commandButton icon="pi pi-search"
										styleClass="rounded-button ui-button-info ui-button-outlined"
										oncomplete="PF('organizationVar').show(); return false;"
										update="@([id$=manage-add-org-content])" ajax="true"
										title="#{interfaceLabel.add}"></p:commandButton>

									<p:outputLabel for="@next">#{interfaceLabel.rootOrganization}</p:outputLabel>
									<p:inputText id="inputText_rootOrganization" style="color:red;"
										readonly="true" disabled="true"
										value="#{registerIncomingMailBean.archiveDocument.organizationByRootOrganization}"></p:inputText>
									<p:column></p:column>

									<p:outputLabel for="@next">#{interfaceLabel.divan}</p:outputLabel>
									<p:inputText id="inputText_divan" style="color:orange;"
										readonly="true" disabled="true"
										value="#{registerIncomingMailBean.archiveDocument.organizationByDivan}"></p:inputText>
									<p:column></p:column>

									<p:outputLabel for="@next">#{interfaceLabel.side}</p:outputLabel>
									<p:inputText
										value="#{registerIncomingMailBean.archiveDocument.fromEntity}"
										style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputText>
									<p:column></p:column>
									<p:outputLabel for="@next">#{interfaceLabel.subject}</p:outputLabel>
									<p:inputTextarea
										value="#{registerIncomingMailBean.archiveDocument.subject}"
										style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputTextarea>
									<p:column></p:column>
									<p:outputLabel for="@next">#{interfaceLabel.year}</p:outputLabel>
									<p:inputNumber
										value="#{registerIncomingMailBean.archiveDocument.year}"
										thousandSeparator="" decimalPlaces="0" minValue="1"
										maxValue="9999" emptyValue="empty" size="4"
										style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputNumber>
									<p:column></p:column>

									<p:outputLabel for="@next">#{interfaceLabel.language}</p:outputLabel>
									<p:selectOneMenu id="selectOneMenu_lang"
										widgetVar="widgetvar_lang"
										value="#{registerIncomingMailBean.archiveDocument.lang}"
										converter="omnifaces.SelectItemsIndexConverter"
										onblur="resetFilterSearch();"
										style="background-color:#FFF9E9;color:black;font-weight:bolder;font-style:italic;"
										dynamic="true" filter="true" filterMatchMode="contains"
										filterPlaceholder="#{interfaceLabel.search}">

										<f:selectItems itemLabel="#{langVar.languageName}"
											itemValue="#{langVar.languaneCode}" var="langVar"
											value="#{registerIncomingMailBean.languages}" />
										<p:column style="width:10%">
											<span class="flag flag-#{langVar.languaneCode}"
												style="width: 30px; height: 20px" />
										</p:column>

										<p:column>
											<f:facet name="header">
												<h:outputText value="#{interfaceLabel.displayName}" />
											</f:facet>
											<h:outputText value="#{langVar.languageName}" />
										</p:column>
										<f:facet name="footer">
											<h:outputText
												value="#{interfaceLabel.fullSize} : #{registerIncomingMailBean.languages.size()} "
												style="font-weight:bold;" styleClass="py-1 block" />
										</f:facet>
									</p:selectOneMenu>
									<p:column></p:column>
								</p:panelGrid>
								<p:divider layout="horizontal" type="dashed"></p:divider>
								<p:panelGrid columns="2" layout="flex"
									columnClasses="col-12 md:col-2 xl:col-1, col-12 md:col-2 xl:col-1"
									contentStyleClass="align-items-baseline ui-fluid"
									style="border:0px none; background-color:transparent;">
									<p:commandButton value="#{interfaceLabel.search}"
										actionListener="#{registerIncomingMailBean.doSearchInAttribute()}"
										process="@([id$=scrollPanel_searchInAttributes])"
										update="@([id$=scrollPanel_files],[id$=scrollPanel_docs])"
										onstart="PF('waitingDialogWidgetVar').show();"
										onsuccess="PF('waitingDialogWidgetVar').hide();"
										oncomplete="PF('tabViewWidgetVar').select(3);"
										icon="pi pi-search"
										styleClass="rounded-button ui-button-success ui-button-raised ui-button-flat"
										style="#{app.locale.locale eq 'en'? 'margin-right:.5rem' : 'margin-left:.5rem'} ">

									</p:commandButton>
									<p:commandButton value="#{interfaceLabel.close}"
										icon="pi pi-times-circle"
										styleClass="rounded-button ui-button-danger ui-button-raised ui-button-flat"
										oncomplete="PF('widgetVarDocumentDlg').hide();">

									</p:commandButton>
								</p:panelGrid>
							</p:scrollPanel>
						</p:tab>
						<p:tab title="#{interfaceLabel.searchInContent}">
							<p:scrollPanel id="scrollPanel_searchInContent"
								style="border:dotted;border-color:#B9CEF2;width: auto; height:89%"
								styleClass="" mode="native">
								<p:panelGrid columns="3" layout="flex"
									columnClasses="col-12 md:col-3 xl:col-2, col-12 md:col-4 xl:col-5,col-12 md:col-5 xl:col-5"
									contentStyleClass="align-items-baseline ui-fluid"
									style="border:0px none; background-color:transparent;">
									<p:outputLabel for="@next">#{interfaceLabel.documentType}</p:outputLabel>
									<p:selectOneMenu id="selectOneMenu_documentType"
										widgetVar="widgetvarDoc"
										value="#{registerIncomingMailBean.documentType}"
										style="background-color:#FFF9E9;color:black;font-weight:bolder;font-style:italic;">
										<f:selectItems itemLabel="#{docTypeVar}"
											itemValue="#{docTypeVar}" var="docTypeVar"
											value="#{registerIncomingMailBean.documentTypeList}" />
									</p:selectOneMenu>
									<p:column></p:column>
									<p:outputLabel for="@next">#{interfaceLabel.searchWord}</p:outputLabel>
									<p:inputText value="#{registerIncomingMailBean.searchWord}"
										style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputText>
									<p:column></p:column>
									<p:toggleSwitch value="#{registerIncomingMailBean.usingOcr}"
										onIcon="pi pi-check" offIcon="pi pi-times">
										<p:ajax update="@([id$=selectOneMenu_Language])"></p:ajax>
									</p:toggleSwitch>
									<p:outputLabel value="#{interfaceLabel.advancedSearchUsingOcr}"></p:outputLabel>
									<p:column></p:column>
									<p:outputLabel for="@next">#{interfaceLabel.language}</p:outputLabel>
									<p:selectOneMenu id="selectOneMenu_Language"
										disabled="#{ not registerIncomingMailBean.usingOcr}"
										value="#{registerIncomingMailBean.languageOcr}"
										converter="omnifaces.SelectItemsIndexConverter"
										style="background-color:#FFF0F5;color:black;font-weight:bolder;font-style:italic;">
										<f:selectItems itemLabel="#{languageVar.name}"
											itemValue="#{languageVar}" var="languageVar"
											value="#{registerIncomingMailBean.languagesOcrList}" />
									</p:selectOneMenu>
									<p:column></p:column>
								</p:panelGrid>
								<p:divider layout="horizontal" type="dashed"></p:divider>
								<p:panelGrid columns="2" layout="flex"
									columnClasses="col-12 md:col-2 xl:col-1, col-12 md:col-2 xl:col-1"
									contentStyleClass="align-items-baseline ui-fluid"
									style="border:0px none; background-color:transparent;">
									<p:commandButton value="#{interfaceLabel.search}"
										icon="pi pi-search"
										actionListener="#{registerIncomingMailBean.doSearchInContent()}"
										process="@([id$=scrollPanel_searchInContent])"
										update="@([id$=scrollPanel_files],[id$=scrollPanel_docs])"
										onstart="PF('waitingDialogWidgetVar').show();"
										onsuccess="PF('waitingDialogWidgetVar').hide();"
										oncomplete="PF('tabViewWidgetVar').select(3);"
										styleClass="rounded-button ui-button-success ui-button-raised ui-button-flat"
										style="#{app.locale.locale eq 'en'? 'margin-right:.5rem' : 'margin-left:.5rem'} ">

									</p:commandButton>
									<p:commandButton value="#{interfaceLabel.close}"
										icon="pi pi-times-circle"
										styleClass="rounded-button ui-button-danger ui-button-raised ui-button-flat"
										oncomplete="PF('widgetVarDocumentDlg').hide();">

									</p:commandButton>
								</p:panelGrid>
							</p:scrollPanel>
						</p:tab>
						<p:tab title="#{interfaceLabel.advancedSearch}">
							<p:scrollPanel id="scrollPanel_advancedSearch"
								style="border:dotted;border-color:#B9CEF2;width: auto; height:89%"
								styleClass="" mode="native">

								<p:outputLabel value="#{interfaceLabel.searchBetweenTwoDate} "
									style="background-color:#D9ECF4;color:black;font-weight:bolder;font-style:italic;"></p:outputLabel>
								<p:panelGrid columns="4" layout="flex"
									columnClasses="col-12 md:col-6 xl:col-2,col-12 md:col-6 xl:col-3,col-12 md:col-6 xl:col-2,col-12 md:col-6 xl:col-3"
									contentStyleClass="align-items-baseline ui-fluid"
									style="border:0px none; background-color:transparent;">
									<p:outputLabel for="@next"
										style="background-color:#FFF9E9;color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.fromDate}</p:outputLabel>
									<p:datePicker></p:datePicker>
									<p:outputLabel for="@next"
										style="background-color:#FFF9E9;color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.toDate}</p:outputLabel>
									<p:datePicker></p:datePicker>
								</p:panelGrid>
								<p:divider layout="horizontal" type="dashed"></p:divider>
								<p:panelGrid columns="2" layout="flex"
									columnClasses="col-12 md:col-6 xl:col-6,col-12 md:col-6 xl:col-6"
									contentStyleClass="align-items-baseline ui-fluid"
									style="border:0px none; background-color:transparent;">
									<p:outputLabel
										value="#{interfaceLabel.searchInDocumentAttributes}"
										style="background-color:#FFF9E9;color:black;font-weight:bolder;font-style:italic;"></p:outputLabel>
									<p:outputLabel value="#{interfaceLabel.searchInContent}"
										style="background-color:#FFF9E9;color:black;font-weight:bolder;font-style:italic;"></p:outputLabel>
									<p:panelGrid columns="2" layout="flex"
										columnClasses="col-12 md:col-6 xl:col-4, col-12 md:col-6 xl:col-8"
										contentStyleClass="align-items-baseline ui-fluid"
										style="border:0px none; background-color:transparent;">
										<p:outputLabel for="@next">#{interfaceLabel.arabicName}</p:outputLabel>
										<p:inputText
											value="#{registerIncomingMailBean.archiveDocument.arabicName}"
											style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputText>
										<p:outputLabel for="@next">#{interfaceLabel.englishName}</p:outputLabel>
										<p:inputText
											value="#{registerIncomingMailBean.archiveDocument.englishName}"
											style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputText>
										<p:outputLabel for="@next">#{interfaceLabel.description}</p:outputLabel>
										<p:inputTextarea rows="3"
											value="#{registerIncomingMailBean.archiveDocument.description}"
											style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputTextarea>
										<p:outputLabel for="@next">#{interfaceLabel.archiveDocumentType}</p:outputLabel>
										<p:selectOneMenu
											value="#{registerIncomingMailBean.archiveDocument.archiveDocumentType}"
											converter="omnifaces.SelectItemsIndexConverter"
											style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;">
											<f:selectItem itemLabel="#{interfaceLabel.choose}"
												itemValue="" noSelectionOption="true" />
											<f:selectItems itemLabel="#{archiveDocumentTypeVar.name}"
												itemValue="#{archiveDocumentTypeVar}"
												var="archiveDocumentTypeVar"
												value="#{registerIncomingMailBean.archiveDocumentTypes}" />
										</p:selectOneMenu>
										<p:outputLabel for="@next">#{interfaceLabel.side}</p:outputLabel>
										<p:inputText
											value="#{registerIncomingMailBean.archiveDocument.fromEntity}"
											style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputText>
										<p:outputLabel for="@next">#{interfaceLabel.subject}</p:outputLabel>
										<p:inputTextarea
											value="#{registerIncomingMailBean.archiveDocument.subject}"
											style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputTextarea>
										<p:outputLabel for="@next">#{interfaceLabel.year}</p:outputLabel>
										<p:inputNumber
											value="#{registerIncomingMailBean.archiveDocument.year}"
											thousandSeparator="" decimalPlaces="0" minValue="1"
											maxValue="9999" emptyValue="empty" size="4"
											style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputNumber>
									</p:panelGrid>

									<p:panelGrid columns="2" layout="flex"
										columnClasses="col-12 md:col-6 xl:col-4, col-12 md:col-6 xl:col-8"
										contentStyleClass="align-items-baseline ui-fluid"
										style="border:0px none; background-color:transparent;">
										<p:outputLabel for="@next">#{interfaceLabel.documentType}</p:outputLabel>
										<p:selectOneMenu widgetVar="widgetvarDoc"
											value="#{registerIncomingMailBean.documentType}"
											style="background-color:#FFF9E9;color:black;font-weight:bolder;font-style:italic;">
											<f:selectItems itemLabel="#{docTypeVar}"
												itemValue="#{docTypeVar}" var="docTypeVar"
												value="#{registerIncomingMailBean.documentTypeList}" />
										</p:selectOneMenu>

										<p:outputLabel for="@next">#{interfaceLabel.searchWord}</p:outputLabel>
										<p:inputText value="#{registerIncomingMailBean.searchWord}"
											style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputText>

										<p:toggleSwitch value="#{registerIncomingMailBean.usingOcr}"
											onIcon="pi pi-check" offIcon="pi pi-times">
											<p:ajax update="@([id$=selectOneMenu_LanguageOcr])"></p:ajax>
										</p:toggleSwitch>
										<p:outputLabel
											value="#{interfaceLabel.advancedSearchUsingOcr}"></p:outputLabel>

										<p:outputLabel for="@next">#{interfaceLabel.language}</p:outputLabel>
										<p:selectOneMenu id="selectOneMenu_LanguageOcr"
											disabled="#{ not registerIncomingMailBean.usingOcr}"
											value="#{registerIncomingMailBean.languageOcr}"
											converter="omnifaces.SelectItemsIndexConverter"
											style="background-color:#FFF0F5;color:black;font-weight:bolder;font-style:italic;">
											<f:selectItems itemLabel="#{languageVar.name}"
												itemValue="#{languageVar}" var="languageVar"
												value="#{registerIncomingMailBean.languagesOcrList}" />
										</p:selectOneMenu>

									</p:panelGrid>
								</p:panelGrid>
								<p:divider layout="horizontal" type="dashed"></p:divider>
								<p:panelGrid columns="2" layout="flex"
									columnClasses="col-12 md:col-2 xl:col-1, col-12 md:col-2 xl:col-1"
									contentStyleClass="align-items-baseline ui-fluid"
									style="border:0px none; background-color:transparent;">
									<p:commandButton value="#{interfaceLabel.search}"
										icon="pi pi-search"
										actionListener="#{registerIncomingMailBean.doSearchInContent()}"
										process="@([id$=scrollPanel_searchInContent])"
										update="@([id$=scrollPanel_files],[id$=scrollPanel_docs])"
										onstart="PF('waitingDialogWidgetVar').show();"
										onsuccess="PF('waitingDialogWidgetVar').hide();"
										oncomplete="PF('tabViewWidgetVar').select(2);"
										styleClass="rounded-button ui-button-success ui-button-raised ui-button-flat"
										style="#{app.locale.locale eq 'en'? 'margin-right:.5rem' : 'margin-left:.5rem'} ">

									</p:commandButton>
									<p:commandButton value="#{interfaceLabel.close}"
										icon="pi pi-times-circle"
										styleClass="rounded-button ui-button-danger ui-button-raised ui-button-flat"
										oncomplete="PF('widgetVarDocumentDlg').hide();">

									</p:commandButton>
								</p:panelGrid>
							</p:scrollPanel>
						</p:tab>
						<p:tab id="tab_searchResult"
							title="#{interfaceLabel.searchResult}">

							<p:scrollPanel id="scrollPanel_files"
								style="border:dotted;border-color:#B9CEF2;width: auto; height:89%"
								styleClass="" mode="native">
								<p:panelGrid columns="1" layout="grid"
									columnClasses="ui-g-12 ui-md-12 ui-lg-12"
									styleClass="customPanelGrid" contentStyleClass="ui-fluid"
									style="border:0px none; background-color:transparent;text-align:center;"
									rendered="#{empty registerIncomingMailBean.archiveDocumentFilesResult}">
									<p:staticMessage severity="WARN"
										detail="#{interfaceLabel.emptySearchResult}"
										style="width: 50%" />
									<p:graphicImage name="images/noresult.png" height="250"
										width="250" library="smat-ins"></p:graphicImage>
								</p:panelGrid>

								<div style="position: relative; height: 20px;"></div>
								<div class="ui-fluid formgrid grid">
									<c:forEach var="archiveDocumentFileVar"
										items="#{registerIncomingMailBean.archiveDocumentFilesResult}">
										<div class="field col-12 md:col-2" style="text-align: center;">
											<p:graphicImage
												id="graphicImage_result_#{archiveDocumentFileVar.id}"
												library="smat-ins" title="#{archiveDocumentFileVar.name}"
												style="text-align: center !important;"
												onmouseover="viewArchiveFilePath(#{archiveDocumentFileVar.id})"
												name="#{registerIncomingMailBean.docImgIconByDocEx(archiveDocumentFileVar.extension)}"
												width="64" height="64"></p:graphicImage>

											<div style="color: green; font-weight: bolder;">(#{archiveDocumentFileVar.code})</div>
											<p:commandLink
												actionListener="#{registerIncomingMailBean.prepareDocument(archiveDocumentFileVar)}"
												oncomplete="document.getElementById('form:commandButton_download').click() ; return false;"
												title="#{interfaceLabel.download}">
												<i class="pi pi-cloud-download" style="font-size: 20px;"><span>
												</span> </i>
											</p:commandLink>
											<p:spacer width="10px"></p:spacer>
											<p:commandLink
												actionListener="#{registerIncomingMailBean.prepareDocumentViewer(archiveDocumentFileVar)}"
												rendered="#{registerIncomingMailBean.extensionIn(archiveDocumentFileVar)}"
												title="#{interfaceLabel.view}"
												onstart="PF('statusDialog').show();"
												oncomplete="PF('statusDialog').hide();">
												<i class="pi pi-search-plus"
													style="font-size: 20px; color: #FFC757;"><span>
												</span> </i>
											</p:commandLink>
											<p:spacer width="10px"></p:spacer>
											<p:commandLink title="#{interfaceLabel.delete}"
												actionListener="#{registerIncomingMailBean.deleteArchiveDocumentFile(archiveDocumentFileVar)}"
												update="@([id$=scrollPanel_doc_files],[id$=scrollPanel_files],[id$=messages])">

												<i class="pi pi-minus-circle"
													style="font-size: 20px; color: red;"><span> </span> </i>
												<p:confirm header="#{interfaceLabel.confirmation}"
													message="#{interfaceLabel.wouldYouContinueAndDeleteFile}"
													icon="pi pi-exclamation-triangle" />
											</p:commandLink>
										</div>
									</c:forEach>

								</div>
								<pe:remoteCommand name="viewArchiveFilePath"
									process="@([id^=graphicImage_result])"
									actionListener="#{registerIncomingMailBean.getArchiveDocumentFilePhysicalPath}"
									update="@([id$=scrollPanel_file_physicalpath])">
									<pe:methodSignature parameters="java.lang.Long"></pe:methodSignature>
									<pe:methodParam name="archiveDocumentFileId">
									</pe:methodParam>
								</pe:remoteCommand>

							</p:scrollPanel>
							<p:scrollPanel id="scrollPanel_file_physicalpath"
								style="border:dotted;border-color:#B9CEF2;width: auto; height:89%"
								styleClass="" mode="native">
								<p:column
									rendered="#{registerIncomingMailBean.modelPhysicalPath.elements.size()>0}">
									<p:outputLabel
										value="#{interfaceLabel.thePhysicalPathOfTheFileInTheCabinet}: "
										style="background-color:#D9ECF4;color:black;font-weight:bolder;font-style:italic;"></p:outputLabel>
									<p:outputLabel
										value="(#{registerIncomingMailBean.archiveDocumentFileSearchResult.code}) - #{registerIncomingMailBean.archiveDocumentFileSearchResult.name}"
										style="color:green;font-weight:bolder;font-style:italic;"></p:outputLabel>

								</p:column>
								<p:divider layout="horizontal" type="dashed"></p:divider>
								<p:diagram value="#{registerIncomingMailBean.modelPhysicalPath}"
									style="height:250px" styleClass="ui-widget-content"
									var="elementVar">
									<f:facet name="element">
										<h:outputText value="#{elementVar.name}"
											style="display:block;margin-top:1em;" />
										<p:graphicImage library="smat-ins"
											name="#{elementVar.image}" width="128" height="128"
											style="margin-top:0.2em;" />
									</f:facet>
								</p:diagram>
							</p:scrollPanel>
						</p:tab>
					</p:tabView>
				</p:outputPanel>
			</p:dialog>

			<p:dialog modal="true" widgetVar="waitingDialogWidgetVar"
				header="#{interfaceLabel.searching}" draggable="false"
				closable="false" resizable="false">
				<i class="pi pi-spinner pi-spin" style="font-size: 3rem"></i>
			</p:dialog>

			<p:dialog
				header="#{interfaceLabel.add} #{interfaceLabel.attachement} "
				showEffect="fade" widgetVar="udocumentFileWidgetVar" closable="true"
				blockScroll="true" dynamic="true" cache="true" fitViewport="true"
				showHeader="true" contentWidth="100%" contentHeight="100%"
				resizeObserver="true" resizeObserverCenter="true"
				styleClass="max-w-screen" iframeStyleClass="max-w-screen"
				responsive="true" width="75%" height="550" maximizable="true"
				minimizable="true">
				<p:outputPanel id="manage-add-udoc-file-content" class="ui-fluid"
					layout="inline" style="width:100%;height:100%">

					<p:scrollPanel
						style="border:dotted;border-color:#B9CEF2;width: auto; height:89%"
						styleClass="" mode="native">
						<p:panelGrid id="panelGrid_uploader_udocument" columns="1"
							columnClasses="ui-g-12 ui-md-12 ui-lg-12" layout="grid"
							styleClass="ui-panelgrid-blank ui-fluid"
							style="border:0px none; background-color:transparent;">
							<p:column>
								<p:outputLabel value="#{interfaceLabel.uploadDocumentFiles}"
									style="color:#FFC757;font-weight:bolder;font-style:italic;"></p:outputLabel>
								<p:spacer width="10px"></p:spacer>
								<p:outputLabel
									value="#{registerIncomingMailBean.selectedArchiveDocument.name}"
									style="background-color:#D9ECF4;color:black;font-weight:bolder;font-style:italic;"></p:outputLabel>
							</p:column>
							<p:divider layout="horizontal" type="solid"
								style="margin-top:-15px;"></p:divider>
							<h:panelGroup id="panelGroup_btn_udocument">
								<p:commandButton id="commandButton_deleteAll_udocument"
									styleClass="rounded-button ui-button-warning"
									icon="pi pi-minus-circle" value="#{interfaceLabel.deleteAll}"
									action="#{registerIncomingMailBean.deleteAllDocFiles()}"
									update="form:customDropzone_udocument form:panelGroup_btn_udocument"
									rendered="#{registerIncomingMailBean.archiveDocumentFiles.size()== 0 ? 'false' : 'true'}"
									style="#{app.locale.locale eq 'en'?'float:right;margin-right:35px' : 'float:left;margin-left:25px;'};width:auto;margin-top:-85px;"></p:commandButton>
							</h:panelGroup>
							<p:dataScroller id="customDropzone_udocument"
								widgetVar="dataScrollerudocWidgetVar"
								style="margin-top:-50px;border:0px none; background-color:transparent;box-sizing: border-box;box-shadow: 0 .5rem 1rem rgba(0,0,0,.15) !important;"
								value="#{registerIncomingMailBean.archiveDocumentFiles}"
								var="archiveFile" chunkSize="10" mode="inline"
								scrollHeight="300">
								<f:facet name="header">
                                                            #{interfaceLabel.theTotalNumberOfDocument}: <span
										style="color: #FFC757; font-weight: bolder; font-style: italic;">#{registerIncomingMailBean.archiveDocumentFiles.size()}</span>

								</f:facet>

								<div class="product">
									<div class="product-list-item p-5">
										<p:graphicImage
											name="#{registerIncomingMailBean.docImgIconByDocEx(archiveFile.extension)}"
											library="smat-ins" />
										<div class="product-list-detail">
											<div class="product-name">#{archiveFile.name}</div>
											<div class="product-description">#{archiveFile.extension}</div>

											<span
												style="#{app.locale.locale eq 'en'? 'margin-left:.5rem' : 'margin-right:.5rem'}"
												class="pi #{app.locale.locale eq 'en'? 'pi-angle-right':'pi-angle-left'} product-category">
												#{interfaceLabel.fileSize}: #{archiveFile.fileSize}
												#{interfaceLabel.byte}</span>
										</div>
										<div class="product-list-action">

											<p:commandButton icon="pi pi-trash"
												value="#{interfaceLabel.delete}"
												action="#{registerIncomingMailBean.deleteDocFile(archiveFile)}"
												update="form:customDropzone_udocument form:panelGroup_btn_udocument"
												styleClass="rounded-button ui-button-danger" />

										</div>
									</div>
								</div>
								<p:divider layout="horizontal" type="dashed" style=""
									styleClass="ui-custom-divider"></p:divider>

							</p:dataScroller>
							<p:column>
								<small> #{interfaceLabel.dropHereToStartUpload} <p:link
										value="#{interfaceLabel.choose}"
										onclick="PF('uploadFileuDocWidgetVar').show(); return false;"
										style="font-size:1.2rem" />.
								</small>
							</p:column>
							<p:remoteCommand name="uautoScrollDownData"
								oncomplete="$('.ui-scrollpanel').scrollTop($('.ui-scrollpanel').height());"></p:remoteCommand>
							<p:fileUpload id="advancedupload_udocument"
								widgetVar="uploadFileuDocWidgetVar" multiple="true"
								listener="#{registerIncomingMailBean.uploadArchiveDocToSelectedArchive}"
								oncomplete="uautoScrollDownData();"
								update="form:customDropzone_udocument form:advancedupload_udocument form:panelGroup_btn_udocument form:messages"
								style="display:none;" sequential="true"
								allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|tif|jpg|doc|docx|txt|ppt|pptx|xlsx|xls)$/"
								dropZone="customDropzone_udocument" />

						</p:panelGrid>
					</p:scrollPanel>
				</p:outputPanel>
				<p:panelGrid columns="2" layout="flex"
					columnClasses="col-12 md:col-3 xl:col-1, col-12 md:col-3 xl:col-1"
					contentStyleClass="align-items-baseline ui-fluid"
					style="margin-top:0.5rem;border:0px none; background-color:transparent;">
					<p:commandButton value="#{interfaceLabel.save}" icon="pi pi-save"
						action="#{registerIncomingMailBean.doSaveArchiveDocFiles()}"
						oncomplete="PF('udocumentFileWidgetVar').hide();"
						update="@([id$=messages],[id$=scrollPanel_doc_files],[id$=manage-add-udoc-file-content],[id$=customDropzone_udocument],[id$=panelGroup_btn_udocument],[id$=advancedupload_udocument])"
						styleClass="rounded-button ui-button-success ui-button-raised ui-button-flat"
						style="#{app.locale.locale eq 'en'? 'margin-right:.5rem' : 'margin-left:.5rem'};width:auto; ">
					</p:commandButton>
					<p:commandButton value="#{interfaceLabel.close}"
						icon="pi pi-times-circle" style="width:auto;"
						action="#{registerIncomingMailBean.updateArchPanel()}"
						oncomplete="PF('udocumentFileWidgetVar').hide();"
						update="@([id$=scrollPanel_doc_files])"
						styleClass="rounded-button ui-button-danger ui-button-raised ui-button-flat">

					</p:commandButton>
				</p:panelGrid>

			</p:dialog>

			<p:dialog
				header="#{interfaceLabel.add} #{interfaceLabel.attachement} "
				showEffect="fade" widgetVar="documentFileWidgetVar" closable="true"
				blockScroll="true" dynamic="true" cache="true" fitViewport="true"
				showHeader="true" contentWidth="100%" contentHeight="100%"
				resizeObserver="true" resizeObserverCenter="true"
				styleClass="max-w-screen" iframeStyleClass="max-w-screen"
				responsive="true" width="75%" height="550" maximizable="true"
				minimizable="true">
				<p:outputPanel id="manage-add-doc-file-content" class="ui-fluid"
					layout="inline" style="width:100%;height:100%">

					<p:scrollPanel
						style="border:dotted;border-color:#B9CEF2;width: auto; height:89%"
						styleClass="" mode="native">
						<p:panelGrid id="panelGrid_uploader_document" columns="1"
							columnClasses="ui-g-12 ui-md-12 ui-lg-12" layout="grid"
							styleClass="ui-panelgrid-blank ui-fluid"
							style="border:0px none; background-color:transparent;">

							<p:column>
								<p:outputLabel value="#{interfaceLabel.uploadDocumentFiles}"
									style="color:#FFC757;font-weight:bolder;font-style:italic;"></p:outputLabel>
								<p:spacer width="10px"></p:spacer>
								<p:outputLabel
									value="#{myCabinetBean.selectedArchiveDocument.name}"
									style="background-color:#D9ECF4;color:black;font-weight:bolder;font-style:italic;"></p:outputLabel>
							</p:column>
							<p:divider layout="horizontal" type="solid"
								style="margin-top:-15px;"></p:divider>
							<h:panelGroup id="panelGroup_btn_document">
								<p:commandButton id="commandButton_deleteAll_document"
									styleClass="rounded-button ui-button-warning"
									icon="pi pi-minus-circle" value="#{interfaceLabel.deleteAll}"
									action="#{myCabinetBean.deleteAllDocFiles()}"
									update="form:customDropzone_document form:panelGroup_btn_document"
									rendered="#{myCabinetBean.archiveDocumentFiles.size()== 0 ? 'false' : 'true'}"
									style="#{app.locale.locale eq 'en'?'float:right;margin-right:35px' : 'float:left;margin-left:25px;'};width:auto;margin-top:-85px;"></p:commandButton>
							</h:panelGroup>
							<p:dataScroller id="customDropzone_document"
								widgetVar="dataScrollerdocWidgetVar"
								style="margin-top:-50px;border:0px none; background-color:transparent;box-sizing: border-box;box-shadow: 0 .5rem 1rem rgba(0,0,0,.15) !important;"
								value="#{myCabinetBean.archiveDocumentFiles}" var="archiveFile"
								chunkSize="10" mode="inline" scrollHeight="300">
								<f:facet name="header">
                                                            #{interfaceLabel.theTotalNumberOfDocument}: <span
										style="color: #FFC757; font-weight: bolder; font-style: italic;">#{myCabinetBean.archiveDocumentFiles.size()}</span>

								</f:facet>

								<div class="product">
									<div class="product-list-item p-5">
										<p:graphicImage
											name="#{myCabinetBean.docImgIconByDocEx(archiveFile.extension)}"
											library="smat-ins" />
										<div class="product-list-detail">
											<div class="product-name">#{archiveFile.name}</div>
											<div class="product-description">#{archiveFile.extension}</div>

											<span
												style="#{app.locale.locale eq 'en'? 'margin-left:.5rem' : 'margin-right:.5rem'}"
												class="pi #{app.locale.locale eq 'en'? 'pi-angle-right':'pi-angle-left'} product-category">
												#{interfaceLabel.fileSize}: #{archiveFile.fileSize}
												#{interfaceLabel.byte}</span>
										</div>
										<div class="product-list-action">

											<p:commandButton icon="pi pi-trash"
												value="#{interfaceLabel.delete}"
												action="#{myCabinetBean.deleteDocFile(archiveFile)}"
												update="form:customDropzone_document form:panelGroup_btn_document"
												styleClass="rounded-button ui-button-danger" />

										</div>
									</div>
								</div>
								<p:divider layout="horizontal" type="dashed" style=""
									styleClass="ui-custom-divider"></p:divider>

							</p:dataScroller>
							<p:column>
								<small> #{interfaceLabel.dropHereToStartUpload} <p:link
										value="#{interfaceLabel.choose}"
										onclick="PF('uploadFileDocWidgetVar').show(); return false;"
										style="font-size:1.2rem" />.
								</small>
							</p:column>
							<p:remoteCommand name="autoScrollDownData"
								oncomplete="$('.ui-scrollpanel').scrollTop($('.ui-scrollpanel').height());"></p:remoteCommand>
							<p:fileUpload id="advancedupload_document"
								widgetVar="uploadFileDocWidgetVar" multiple="true"
								listener="#{myCabinetBean.uploadArchiveDocToSelectedArchive}"
								oncomplete="autoScrollDownData();"
								update="form:customDropzone_document form:advancedupload_document form:panelGroup_btn_document form:messages"
								style="display:none;" sequential="true"
								allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|tif|jpg|doc|docx|txt|ppt|pptx|xlsx|xls)$/"
								dropZone="customDropzone_document" />

						</p:panelGrid>
					</p:scrollPanel>
				</p:outputPanel>
				<p:panelGrid columns="2" layout="flex"
					columnClasses="col-12 md:col-3 xl:col-1, col-12 md:col-3 xl:col-1"
					contentStyleClass="align-items-baseline ui-fluid"
					style="margin-top:0.5rem;border:0px none; background-color:transparent;">
					<p:commandButton value="#{interfaceLabel.save}" icon="pi pi-save"
						action="#{myCabinetBean.doSaveArchiveDocFiles()}"
						update="@([id$=messages],[id$=scrollPanel_doc_files],[id$=manage-add-doc-file-content],[id$=customDropzone_document],[id$=panelGroup_btn_document],[id$=advancedupload_document])"
						styleClass="rounded-button ui-button-success ui-button-raised ui-button-flat"
						style="#{app.locale.locale eq 'en'? 'margin-right:.5rem' : 'margin-left:.5rem'};width:auto; ">
					</p:commandButton>
					<p:commandButton value="#{interfaceLabel.close}"
						icon="pi pi-times-circle" style="width:auto;"
						action="#{myCabinetBean.updateArchPanel()}"
						oncomplete="PF('documentFileWidgetVar').hide();"
						update="@([id$=scrollPanel_doc_files])"
						styleClass="rounded-button ui-button-danger ui-button-raised ui-button-flat">

					</p:commandButton>
				</p:panelGrid>

			</p:dialog>

			<p:dialog header="#{interfaceLabel.addArchive}" showEffect="fade"
				widgetVar="addArchiveWidgetVar" closable="true" blockScroll="true"
				dynamic="true" cache="true" fitViewport="true" showHeader="true"
				contentWidth="100%" contentHeight="100%" resizeObserver="true"
				resizeObserverCenter="true" styleClass="max-w-screen"
				iframeStyleClass="max-w-screen"
				onShow="PF('addArchiveWidgetVar').jq.css('height',$(window).height()*98/100); "
				responsive="true" width="92%" height="100%" maximizable="true"
				minimizable="true">
				<script type="text/javascript">
				 $(function (){
					 
              	     PF('addArchiveWidgetVar').jq.css('height',$(window).height()*98/100);
              	      
                     });
                   
                
				</script>


				<style>
.custom-scrolltop.ui-scrolltop {
	width: 2rem;
	height: 2rem;
	border-radius: 4px;
	outline: 0 none;
	background-color: #B9CEF2;
}

.custom-scrolltop.ui-scrolltop:hover {
	background-color: #B9CEF2;
}

.custom-scrolltop.ui-scrolltop .ui-scrolltop-icon {
	font-size: 1rem;
	color: var(- -primary-color-text);
}

.ui-divider.ui-divider-dashed.ui-divider-vertical::before {
	border-left-color: #2196f3;
}

.ui-divider.ui-divider-dashed.ui-divider-horizontal::before {
	border-top-color: #F4CA16;
}

.ui-divider.ui-divider-dashed.ui-divider-horizontal.ui-custom-divider::before
	{
	border-top-color: #F4CA16;
	margin-top: -50px;
}

body .ui-toggleswitch.ui-toggleswitch-checked .ui-toggleswitch-slider {
	background: #F4CA16;
}

body .ui-toggleswitch.ui-toggleswitch-focus .ui-toggleswitch-slider {
	box-shadow: none;
}

.product .product-list-item .product-list-detail {
	flex: 1 1 0;
	-ms-flex: 1 1 0;
	margin: 0rem !important;
}

.product .product-list-item img {
	box-shadow: none !important;
	margin: 0px !important;
}

.ui-datascroller .ui-state-drag {
	background: #ffffd6;
}

.ui-datascroller-item {
	margin-top: -50px;
}
</style>

				<p:outputPanel id="manage-add-archive-content" class="ui-fluid"
					layout="inline" style="width:100%;height:85%">
					<p:scrollPanel widgetVar="scrollPanelwidgetVar"
						style="border:dotted;border-color:#B9CEF2;width: auto; height:85%"
						styleClass="" mode="native">
						<p:panelGrid columns="6" layout="grid"
							columnClasses="ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-6 ui-lg-2"
							contentStyleClass="align-items-baseline ui-fluid"
							style="border:0px none; background-color:transparent;">
							<p:outputLabel value="#{interfaceLabel.isDirectory}"
								style="color:black;font-weight:bolder;font-style:italic;"></p:outputLabel>
							<p:toggleSwitch id="toggleSwitch"
								value="#{registerIncomingMailBean.archiveDocument.isDirectory}"
								onIcon="pi pi-times" offIcon="pi pi-check">
								<p:ajax
									listener="#{registerIncomingMailBean.checkOrUncheckIfDirectory()}"
									update="form:manage-add-archive-content"></p:ajax>
							</p:toggleSwitch>
							<p:column></p:column>
							<p:column></p:column>
							<p:column></p:column>
							<p:column></p:column>
							<p:outputLabel for="@next"
								style="color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.code}</p:outputLabel>
							<p:inputText
								value="#{registerIncomingMailBean.archiveDocument.code}"
								disabled="true"
								style="background-color:#FFF9E9;color:black;font-weight:bolder;font-style:italic;"></p:inputText>
							<p:outputLabel for="@next"
								style="color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.arabicName}</p:outputLabel>
							<p:inputText
								value="#{registerIncomingMailBean.archiveDocument.arabicName}"
								style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputText>
							<p:outputLabel for="@next"
								style="color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.englishName}</p:outputLabel>
							<p:inputText
								value="#{registerIncomingMailBean.archiveDocument.englishName}"
								style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputText>
						</p:panelGrid>

						<p:panelGrid columns="2" layout="grid"
							columnClasses="ui-g-12 ui-md-6 ui-lg-2,ui-g-12 ui-md-10 ui-lg-10"
							contentStyleClass="align-items-baseline ui-fluid"
							style="border:0px none; background-color:transparent;">
							<p:outputLabel for="@next"
								style="color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.description}</p:outputLabel>
							<p:inputTextarea rows="3"
								value="#{registerIncomingMailBean.archiveDocument.description}"
								style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputTextarea>
						</p:panelGrid>

						<p:divider layout="horizontal" type="dashed"></p:divider>
						<p:panelGrid columns="4"
							columnClasses="ui-g-12 ui-md-12 ui-lg-2,ui-g-12 ui-md-12 ui-lg-1, ui-g-12 ui-md-12 ui-lg-2,ui-g-12 ui-md-12 ui-lg-1"
							layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
							rendered="#{not registerIncomingMailBean.archiveDocument.isDirectory}"
							style="border:0px none; background-color:transparent;box-sizing: border-box;box-shadow: 0 .5rem 1rem rgba(0,0,0,.15) !important;">
							<p:outputLabel value="#{interfaceLabel.inheritParentAttribute}"
								style="color:#F4CA16;font-weight:bolder;font-style:italic;"></p:outputLabel>
							<p:toggleSwitch
								value="#{registerIncomingMailBean.archiveDocument.inheritParentAttribute}"
								onIcon="pi pi-times" offIcon="pi pi-check">
							</p:toggleSwitch>
							<p:outputLabel value="#{interfaceLabel.inheritAttributeToChild}"
								style="color:#F4CA16;font-weight:bolder;font-style:italic;"></p:outputLabel>
							<p:toggleSwitch
								value="#{registerIncomingMailBean.archiveDocument.inheritAttributeToChild}"
								onIcon="pi pi-times" offIcon="pi pi-check">
							</p:toggleSwitch>
						</p:panelGrid>
						<p:panelGrid columns="1" layout="grid"
							columnClasses="ui-g-12 ui-md-12 ui-lg-12"
							styleClass="customPanelGrid" contentStyleClass="ui-fluid"
							contentStyle="text-align:center;"
							style="margin-top:20px;border:0px none; background-color:transparent;"
							rendered="#{registerIncomingMailBean.archiveDocument.isDirectory}">
							<p:staticMessage severity="WARN"
								detail="#{interfaceLabel.activeDocAttributeInfo}"
								style="width: 30%" />
							<p:graphicImage name="images/settings_file-512.png"
								library="smat-ins" width="256" height="256"></p:graphicImage>
						</p:panelGrid>
						<p:panelGrid columns="3" layout="grid"
							columnClasses="ui-g-12 ui-md-12 ui-lg-5,ui-g-12 ui-md-12 ui-lg-1, ui-g-12 ui-md-12 ui-lg-6"
							contentStyleClass="align-items-baseline ui-fluid"
							rendered="#{not registerIncomingMailBean.archiveDocument.isDirectory}"
							style="margin-top:5px;border:0px none; background-color:transparent;">

							<p:panelGrid columns="3"
								columnClasses="ui-g-12 ui-md-12 ui-lg-4,ui-g-12 ui-md-12 ui-lg-7, ui-g-12 ui-md-12 ui-lg-1"
								layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
								style="border:0px none; background-color:transparent;">
								<p:outputLabel for="@next"
									style="color:black;font-weight:bolder;font-style:italic;">#{interfaceLabel.archiveDocumentType}</p:outputLabel>
								<p:selectOneMenu
									value="#{registerIncomingMailBean.archiveDocument.archiveDocumentType}"
									converter="omnifaces.SelectItemsIndexConverter"
									style="background-color:#FFF9E9;color:black;font-weight:bolder;font-style:italic;">
									<f:selectItem itemLabel="#{interfaceLabel.choose}" itemValue=""
										noSelectionOption="true" />
									<f:selectItems itemLabel="#{archiveDocumentTypeVar.name}"
										itemValue="#{archiveDocumentTypeVar}"
										var="archiveDocumentTypeVar"
										value="#{registerIncomingMailBean.archiveDocumentTypes}" />
								</p:selectOneMenu>
								<p:column></p:column>
								<p:outputLabel for="@next">#{interfaceLabel.organization}</p:outputLabel>
								<p:inputText id="inputText_organization" style="color:blue;"
									readonly="true" disabled="true"
									value="#{registerIncomingMailBean.archiveDocument.organizationByOrganization}"></p:inputText>
								<p:commandButton icon="pi pi-search"
									styleClass="rounded-button ui-button-info ui-button-outlined"
									onclick="PF('organizationVar').show(); return false;"
									ajax="true" title="#{interfaceLabel.add}"></p:commandButton>

								<p:outputLabel for="@next">#{interfaceLabel.rootOrganization}</p:outputLabel>
								<p:inputText id="inputText_rootOrganization" style="color:red;"
									readonly="true" disabled="true"
									value="#{registerIncomingMailBean.archiveDocument.organizationByRootOrganization}"></p:inputText>
								<p:column></p:column>

								<p:outputLabel for="@next">#{interfaceLabel.divan}</p:outputLabel>
								<p:inputText id="inputText_divan" style="color:orange;"
									readonly="true" disabled="true"
									value="#{registerIncomingMailBean.archiveDocument.organizationByDivan}"></p:inputText>
								<p:column></p:column>

								<p:outputLabel for="@next">#{interfaceLabel.side}</p:outputLabel>
								<p:inputText
									value="#{registerIncomingMailBean.archiveDocument.fromEntity}"
									style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputText>
								<p:column></p:column>
								<p:outputLabel for="@next">#{interfaceLabel.subject}</p:outputLabel>
								<p:inputTextarea
									value="#{registerIncomingMailBean.archiveDocument.subject}"
									style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputTextarea>
								<p:column></p:column>
								<p:outputLabel for="@next">#{interfaceLabel.year}</p:outputLabel>
								<p:inputNumber
									value="#{registerIncomingMailBean.archiveDocument.year}"
									thousandSeparator="" decimalPlaces="0" minValue="1"
									maxValue="9999" emptyValue="empty" size="4"
									style="background-color:#F8F9FA;color:black;font-weight:bolder;font-style:italic;"></p:inputNumber>
								<p:column></p:column>

								<p:outputLabel for="@next">#{interfaceLabel.language}</p:outputLabel>
								<p:selectOneMenu id="selectOneMenu_lang"
									widgetVar="widgetvar_lang"
									value="#{registerIncomingMailBean.archiveDocument.lang}"
									converter="omnifaces.SelectItemsIndexConverter"
									onblur="resetFilterSearch();"
									style="background-color:#FFF9E9;color:black;font-weight:bolder;font-style:italic;"
									dynamic="true" filter="true" filterMatchMode="contains"
									filterPlaceholder="#{interfaceLabel.search}">

									<f:selectItems itemLabel="#{langVar.languageName}"
										itemValue="#{langVar.languaneCode}" var="langVar"
										value="#{registerIncomingMailBean.languages}" />
									<p:column style="width:10%">
										<span class="flag flag-#{langVar.languaneCode}"
											style="width: 30px; height: 20px" />
									</p:column>

									<p:column>
										<f:facet name="header">
											<h:outputText value="#{interfaceLabel.displayName}" />
										</f:facet>
										<h:outputText value="#{langVar.languageName}" />
									</p:column>
									<f:facet name="footer">
										<h:outputText
											value="#{interfaceLabel.fullSize} : #{registerIncomingMailBean.languages.size()} "
											style="font-weight:bold;" styleClass="py-1 block" />
									</f:facet>
								</p:selectOneMenu>
								<p:column></p:column>
							</p:panelGrid>
							<p:divider layout="vertical" type="dashed"></p:divider>
							<p:panelGrid id="panelGrid_uploader" columns="1"
								columnClasses="ui-g-12 ui-md-12 ui-lg-12" layout="grid"
								styleClass="ui-panelgrid-blank ui-fluid"
								style="border:0px none; background-color:transparent;">

								<p:outputLabel value="#{interfaceLabel.uploadDocumentFiles}"
									style="color:#F4CA16;font-weight:bolder;font-style:italic;"></p:outputLabel>
								<p:divider layout="horizontal" type="solid"
									style="margin-top:-15px;"></p:divider>
								<h:panelGroup id="panelGroup_Btn">
									<p:commandButton id="commandButton_deleteAll"
										styleClass="rounded-button ui-button-warning"
										icon="pi pi-minus-circle" value="#{interfaceLabel.deleteAll}"
										action="#{registerIncomingMailBean.deleteAllDocFiles()}"
										update="form:customDropzone form:panelGroup_Btn"
										rendered="#{registerIncomingMailBean.archiveDocumentFiles.size()== 0 ? 'false' : 'true'}"
										style="#{app.locale.locale eq 'en'?'float:right;margin-right:35px' : 'float:left;margin-left:25px;'};width:auto;margin-top:-35px;"></p:commandButton>
								</h:panelGroup>
								<p:dataScroller id="customDropzone"
									widgetVar="dataScrollerWidgetVar"
									style="margin-top:-20px;border:0px none; background-color:transparent;box-sizing: border-box;box-shadow: 0 .5rem 1rem rgba(0,0,0,.15) !important;"
									value="#{registerIncomingMailBean.archiveDocumentFiles}"
									var="archiveFile" chunkSize="10" mode="inline"
									scrollHeight="350">
									<f:facet name="header">
                                               #{interfaceLabel.theTotalNumberOfDocument}: <span
											style="color: #F4CA16; font-weight: bolder; font-style: italic;">#{registerIncomingMailBean.archiveDocumentFiles.size()}</span>

									</f:facet>

									<div class="product">
										<div class="product-list-item p-5">
											<p:graphicImage
												name="#{registerIncomingMailBean.docImgIconByDocEx(archiveFile.extension)}"
												library="smat-ins" />
											<div class="product-list-detail">
												<div class="product-name">#{archiveFile.name}</div>
												<div class="product-description">#{archiveFile.extension}</div>

												<span
													style="#{app.locale.locale eq 'en'? 'margin-left:.5rem' : 'margin-right:.5rem'}"
													class="pi #{app.locale.locale eq 'en'? 'pi-angle-right':'pi-angle-left'} product-category">
													#{interfaceLabel.fileSize}: #{archiveFile.fileSize}
													#{interfaceLabel.byte}</span>
											</div>
											<div class="product-list-action">

												<p:commandButton icon="pi pi-trash"
													value="#{interfaceLabel.delete}"
													action="#{registerIncomingMailBean.deleteDocFile(archiveFile)}"
													update="form:customDropzone form:panelGroup_Btn"
													styleClass="rounded-button ui-button-danger" />

											</div>
										</div>
									</div>
									<p:divider layout="horizontal" type="dashed" style=""
										styleClass="ui-custom-divider"></p:divider>

								</p:dataScroller>
								<p:column>
									<small> #{interfaceLabel.dropHereToStartUpload} <p:link
											value="#{interfaceLabel.choose}"
											onclick="PF('uploadFileWidgetVar').show(); return false;"
											style="font-size:1.2rem" />.
									</small>
								</p:column>
								<p:remoteCommand name="autoScrollDown"
									oncomplete="$('.ui-scrollpanel').scrollTop($('.ui-scrollpanel').height());"></p:remoteCommand>
								<p:fileUpload id="advancedupload"
									widgetVar="uploadFileWidgetVar" multiple="true"
									listener="#{registerIncomingMailBean.uploadArchiveDoc}"
									oncomplete="autoScrollDown();"
									update="form:customDropzone form:advancedupload form:panelGroup_Btn form:messages"
									style="display:none;" sequential="true"
									allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|tif|jpg|doc|docx|txt|ppt|pptx|xlsx|xls)$/"
									dropZone="customDropzone" />

							</p:panelGrid>
						</p:panelGrid>
						<p:scrollTop target="parent" threshold="20"
							styleClass="custom-scrolltop" icon="pi pi-arrow-up" />
					</p:scrollPanel>
					<p:panelGrid columns="2" layout="flex"
						columnClasses="col-12 md:col-3 xl:col-1, col-12 md:col-3 xl:col-1"
						contentStyleClass="align-items-baseline ui-fluid"
						style="margin-top:0.5rem;border:0px none; background-color:transparent;">
						<p:commandButton value="#{interfaceLabel.save}" icon="pi pi-save"
							action="#{registerIncomingMailBean.doSaveArchiveDoc()}"
							update="@([id$=messages],[id$=panelGrid_content],[id$=manage-add-archive-content])"
							styleClass="rounded-button ui-button-success ui-button-raised ui-button-flat"
							style="#{app.locale.locale eq 'en'? 'margin-right:.5rem' : 'margin-left:.5rem'};width:auto; ">
						</p:commandButton>
						<p:commandButton id="delete-correspondenceState-button"
							value="#{interfaceLabel.close}" icon="pi pi-times-circle"
							style="width:auto;"
							oncomplete="PF('addArchiveWidgetVar').hide();"
							styleClass="rounded-button ui-button-danger ui-button-raised ui-button-flat">

						</p:commandButton>
					</p:panelGrid>
				</p:outputPanel>
			</p:dialog>

			<p:scrollTop threshold="20" widgetVar="scrollTop_widgetVar" />

			<p:confirmDialog global="true" showEffect="fade" width="300">
				<p:commandButton value="#{interfaceLabel.yes}" type="button"
					styleClass="ui-button-raised ui-button-info ui-button-flat ui-confirmdialog-yes"
					icon="pi pi-check-circle" />
				<p:commandButton value="#{interfaceLabel.no}" type="button"
					styleClass="ui-button-raised ui-button-danger ui-button-flat ui-confirmdialog-no ui-button-secondary"
					icon="pi pi-times-circle" />
			</p:confirmDialog>

		</h:form>
		<p:dialog id="dialog_selectOrgFromUserAlias"
			header="#{interfaceLabel.selectOrganization}" closable="true"
			closeOnEscape="true" dir="#{app.locale.rtl ? 'rtl':'ltr'}"
			showHeader="true" blockScroll="true" width="40%" dynamic="true"
			appendTo="@(body)" widgetVar="organizationVar" showEffect="fade"
			modal="true" responsive="true" onShow="updateDialog();">

			<script type="text/javascript">
				   
                   $(function (){
                	    
                	   
                	      
                	     
                       });
				</script>

			<style>
.custom-scrolltop.ui-scrolltop {
	width: 2rem;
	height: 2rem;
	border-radius: 4px;
	outline: 0 none;
	background-color: #B9CEF2;
}

.custom-scrolltop.ui-scrolltop:hover {
	background-color: #B9CEF2;
}

.custom-scrolltop.ui-scrolltop .ui-scrolltop-icon {
	font-size: 1rem;
	color: var(- -primary-color-text);
}
</style>
			<h:form id="form_organizations">
				<p:divider />

				<div class="p-grid">
					<div class="p-col-12">

						<p:scrollPanel
							style="border:dashed;border-color:#B9CEF2;width: auto; height: 85%"
							mode="native">

							<p:tree id="tree_organizations" value="#{organizationBean.root}"
								highlight="true" animate="true" selectionMode="single"
								selection="#{organizationBean.selectedNode}"
								widgetVar="treeWidgetVar" var="node" cache="false"
								dynamic="true">
								<p:ajax event="expand"
									oncomplete="reverseTreeChildExpandedIcon();"
									listener="#{organizationBean.onNodeExpand}" />
								<p:ajax event="collapse"
									listener="#{organizationBean.onNodeCollapse}" />
								<p:ajax event="select"
									listener="#{organizationBean.onNodeSelect}" delay="100" />
								<p:treeNode>
									<span> <span
										style="color: black !important; font-weight: bolder !important;">(#{node.code})</span>
										#{node.name}
									</span>
									<p:spacer width="6px"></p:spacer>
									<p:commandButton icon="pi pi-check-circle" ajax="true"
										styleClass="rounded-button ui-button-help ui-button-flat"
										process="@this" global="false"
										action="#{registerIncomingMailBean.selectOrganization(node)}"
										update="@([id$=panelGrid_content],[id$=inputText_organization],[id$=inputText_rootOrganization],[id$=inputText_divan]) form_organizations"
										oncomplete="updateDialogPos();PF('organizationVar').hide();"></p:commandButton>
									<p:spacer width="6px"></p:spacer>
								</p:treeNode>
							</p:tree>
							<p:blockUI id="blockUI_tree_orgniztion"
								block="form_organizations:tree_organizations"
								trigger="form_organizations:tree_organizations"
								widgetVar="blockWidget">
								<i class="pi pi-spin pi-spinner" style="font-size: 3rem"></i>
							</p:blockUI>
							<p:scrollTop target="parent" threshold="20"
								styleClass="custom-scrolltop" icon="pi pi-arrow-up" />

						</p:scrollPanel>

					</div>
				</div>
			</h:form>
		</p:dialog>
	</ui:define>

</ui:composition>
